# 4.4 Overtime Management

## 4.4.1 Business Purpose

Overtime Management provides comprehensive administration of overtime requests, calculations, approvals, and compliance monitoring. This ensures accurate overtime compensation, regulatory compliance, cost control, and fair overtime distribution while supporting various overtime policies, approval workflows, and integration with payroll and attendance systems.

## 4.4.2 Business Scope

Enable complete overtime management including overtime request workflow, calculation engine, approval processes, compliance monitoring, and cost tracking. The system supports automated calculations, multi-level approvals, policy enforcement, and audit trails while ensuring accuracy, timeliness, and regulatory compliance across all overtime types and organizational levels.

## 4.4.3 Overtime Policy Master Schema

```
Table: overtime_policy
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- policy_code: VARCHAR(50) (Required, Indexed)
- policy_name: VARCHAR(200) (Required)
- policy_type: ENUM('Standard', 'Night Shift', 'Weekend', 'Holiday', 'Emergency', 'Special Project', 'On-Call')
- policy_category: ENUM('Regular Overtime', 'Premium Overtime', 'Double Time', 'Compensatory Off')
- calculation_method: ENUM('Daily Hours', 'Weekly Hours', 'Daily + Weekly', 'Custom Formula')
- regular_hours_threshold: DECIMAL(4,2) (Default: 8.00)
- weekly_hours_threshold: DECIMAL(4,2) (Default: 40.00)
- overtime_rate_1x: DECIMAL(5,2) (Default: 1.50)
- overtime_rate_15x: DECIMAL(5,2) (Default: 1.50)
- overtime_rate_2x: DECIMAL(5,2) (Default: 2.00)
- overtime_rate_3x: DECIMAL(5,2) (Default: 3.00)
- minimum_overtime_minutes: INTEGER (Default: 30)
- overtime_rounding: ENUM('Nearest 15 Min', 'Nearest 30 Min', 'Exact', 'Round Up', 'Round Down')
- max_daily_overtime: DECIMAL(4,2) (Default: 4.00)
- max_weekly_overtime: DECIMAL(4,2) (Default: 20.00)
- max_monthly_overtime: DECIMAL(4,2) (Default: 40.00)
- approval_required: BOOLEAN (Default: TRUE)
- pre_approval_required: BOOLEAN (Default: TRUE)
- auto_approval_limit: DECIMAL(4,2) (Default: 2.00)
- compensatory_off_allowed: BOOLEAN (Default: TRUE)
- compensatory_off_rate: DECIMAL(5,2) (Default: 1.50)
- meal_break_required: BOOLEAN (Default: TRUE)
- meal_break_duration: INTEGER (Default: 30)
- rest_break_required: BOOLEAN (Default: TRUE)
- rest_break_frequency: ENUM('Every 2 Hours', 'Every 4 Hours', 'Every 6 Hours', 'Custom')
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- is_active: BOOLEAN (Default: TRUE)
- effective_from: DATE (Required)
- effective_to: DATE
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_overtime_policy_company_code (company_id, policy_code)
- INDEX idx_company_id (company_id)
- INDEX idx_policy_type (policy_type)
- INDEX idx_policy_category (policy_category)
- INDEX idx_calculation_method (calculation_method)
- INDEX idx_is_active (is_active)
- INDEX idx_effective_from (effective_from)

Constraints:
- fk_overtime_policy_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_policy_workflow FOREIGN KEY (approval_workflow_id) REFERENCES approval_workflow(id)
- fk_overtime_policy_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_thresholds_valid CHECK (regular_hours_threshold > 0 AND weekly_hours_threshold > 0)
- chk_rates_valid CHECK (overtime_rate_1x >= 1.00 AND overtime_rate_15x >= 1.00 AND overtime_rate_2x >= 1.00 AND overtime_rate_3x >= 1.00)
- chk_limits_positive CHECK (max_daily_overtime > 0 AND max_weekly_overtime > 0 AND max_monthly_overtime > 0)
```

## 4.4.4 Overtime Request Schema

```
Table: overtime_request
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- employee_id: UUID (Foreign Key to employee)
- overtime_policy_id: UUID (Foreign Key to overtime_policy)
- request_number: VARCHAR(50) (Required, Unique, Indexed)
- request_type: ENUM('Pre-Approved', 'Actual', 'Emergency', 'Correction', 'Adjustment')
- overtime_date: DATE (Required)
- scheduled_start_time: TIME
- scheduled_end_time: TIME
- actual_start_time: TIME
- actual_end_time: TIME
- regular_hours_worked: DECIMAL(4,2) (Default: 0.00)
- overtime_hours_requested: DECIMAL(4,2) (Required)
- overtime_hours_approved: DECIMAL(4,2) (Default: 0.00)
- overtime_rate_applied: DECIMAL(5,2) (Default: 1.50)
- request_status: ENUM('Draft', 'Submitted', 'Pending Approval', 'Approved', 'Rejected', 'Cancelled', 'Completed', 'Processed')
- priority: ENUM('Low', 'Medium', 'High', 'Urgent', 'Emergency')
- request_reason: TEXT (Required)
- business_justification: TEXT
- project_code: VARCHAR(50)
- cost_center_code: VARCHAR(50)
- client_billable: BOOLEAN (Default: FALSE)
- billing_rate: DECIMAL(10,2)
- attachment_required: BOOLEAN (Default: FALSE)
- attachment_ids: JSON (Array of document IDs)
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- current_approver_id: UUID (Foreign Key to employee)
- approval_level: INTEGER (Default: 1)
- submitted_at: TIMESTAMP
- approved_at: TIMESTAMP
- approved_by_user_id: UUID (Foreign Key to user)
- rejection_reason: TEXT
- auto_approved: BOOLEAN (Default: FALSE)
- system_calculated: BOOLEAN (Default: FALSE)
- calculation_details: JSON (Detailed overtime calculation breakdown)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_overtime_request_number (request_number)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_overtime_policy_id (overtime_policy_id)
- INDEX idx_request_type (request_type)
- INDEX idx_overtime_date (overtime_date)
- INDEX idx_request_status (request_status)
- INDEX idx_priority (priority)
- INDEX idx_current_approver_id (current_approver_id)
- INDEX idx_submitted_at (submitted_at)

Constraints:
- fk_overtime_request_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_request_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_overtime_request_policy FOREIGN KEY (overtime_policy_id) REFERENCES overtime_policy(id)
- fk_overtime_request_workflow FOREIGN KEY (approval_workflow_id) REFERENCES approval_workflow(id)
- fk_overtime_request_current_approver FOREIGN KEY (current_approver_id) REFERENCES employee(id)
- fk_overtime_request_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_overtime_request_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_positive_hours CHECK (regular_hours_worked >= 0 AND overtime_hours_requested >= 0 AND overtime_hours_approved >= 0)
- chk_approved_within_requested CHECK (overtime_hours_approved <= overtime_hours_requested)
```

## 4.4.5 Overtime Approval Workflow Schema

```
Table: overtime_approval_workflow
Fields:
- id: UUID (Primary Key)
- overtime_request_id: UUID (Foreign Key to overtime_request)
- workflow_template_id: UUID (Foreign Key to workflow_template)
- approval_level: INTEGER (Required)
- approver_type: ENUM('Manager', 'Department Head', 'HR Business Partner', 'Finance', 'Project Manager', 'Specific User', 'Auto Approve')
- approver_id: UUID (Foreign Key to employee)
- approval_status: ENUM('Pending', 'Approved', 'Rejected', 'Delegated', 'Escalated', 'Skipped')
- decision: ENUM('Approve', 'Reject', 'Request More Info', 'Delegate', 'Escalate')
- comments: TEXT
- attachments: JSON (Array of document IDs)
- delegated_to_user_id: UUID (Foreign Key to employee)
- escalated_to_user_id: UUID (Foreign Key to employee)
- due_date: TIMESTAMP
- action_date: TIMESTAMP
- approval_order: INTEGER
- is_parallel: BOOLEAN (Default: FALSE)
- auto_approve: BOOLEAN (Default: FALSE)
- auto_approve_conditions: JSON (Auto-approval conditions)
- skip_conditions: JSON (Skip approval conditions)
- budget_check_required: BOOLEAN (Default: FALSE)
- budget_check_result: ENUM('Within Budget', 'Over Budget', 'No Budget', 'Pending')
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_overtime_request_id (overtime_request_id)
- INDEX idx_workflow_template_id (workflow_template_id)
- INDEX idx_approver_id (approver_id)
- INDEX idx_approval_level (approval_level)
- INDEX idx_approval_status (approval_status)
- INDEX idx_decision (decision)
- INDEX idx_due_date (due_date)
- INDEX idx_approval_order (approval_order)
- INDEX idx_budget_check_result (budget_check_result)

Constraints:
- fk_overtime_approval_request FOREIGN KEY (overtime_request_id) REFERENCES overtime_request(id)
- fk_overtime_approval_template FOREIGN KEY (workflow_template_id) REFERENCES workflow_template(id)
- fk_overtime_approval_approver FOREIGN KEY (approver_id) REFERENCES employee(id)
- fk_overtime_approval_delegated_to FOREIGN KEY (delegated_to_user_id) REFERENCES employee(id)
- fk_overtime_approval_escalated_to FOREIGN KEY (escalated_to_user_id) REFERENCES employee(id)
```

## 4.4.6 Overtime Calculation Schema

```
Table: overtime_calculation
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- employee_id: UUID (Foreign Key to employee)
- overtime_request_id: UUID (Foreign Key to overtime_request)
- calculation_date: DATE (Required)
- calculation_period: ENUM('Daily', 'Weekly', 'Bi-Weekly', 'Monthly', 'Custom')
- regular_hours: DECIMAL(4,2) (Default: 0.00)
- overtime_1x_hours: DECIMAL(4,2) (Default: 0.00)
- overtime_15x_hours: DECIMAL(4,2) (Default: 0.00)
- overtime_2x_hours: DECIMAL(4,2) (Default: 0.00)
- overtime_3x_hours: DECIMAL(4,2) (Default: 0.00)
- total_overtime_hours: DECIMAL(4,2) (Default: 0.00)
- base_hourly_rate: DECIMAL(10,2) (Default: 0.00)
- overtime_1x_rate: DECIMAL(5,2) (Default: 1.50)
- overtime_15x_rate: DECIMAL(5,2) (Default: 1.50)
- overtime_2x_rate: DECIMAL(5,2) (Default: 2.00)
- overtime_3x_rate: DECIMAL(5,2) (Default: 3.00)
- overtime_1x_amount: DECIMAL(10,2) (Default: 0.00)
- overtime_15x_amount: DECIMAL(10,2) (Default: 0.00)
- overtime_2x_amount: DECIMAL(10,2) (Default: 0.00)
- overtime_3x_amount: DECIMAL(10,2) (Default: 0.00)
- total_overtime_amount: DECIMAL(10,2) (Default: 0.00)
- calculation_method: ENUM('Daily Threshold', 'Weekly Threshold', 'Daily + Weekly', 'Custom Formula')
- calculation_formula: TEXT
- calculation_details: JSON (Detailed calculation breakdown)
- rounding_applied: BOOLEAN (Default: FALSE)
- rounding_method: ENUM('Nearest 15 Min', 'Nearest 30 Min', 'Exact', 'Round Up', 'Round Down')
- policy_id: UUID (Foreign Key to overtime_policy)
- calculated_by_user_id: UUID (Foreign Key to user)
- calculation_timestamp: TIMESTAMP (Auto)
- verified: BOOLEAN (Default: FALSE)
- verified_by_user_id: UUID (Foreign Key to user)
- verified_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_overtime_request_id (overtime_request_id)
- INDEX idx_calculation_date (calculation_date)
- INDEX idx_calculation_period (calculation_period)
- INDEX idx_total_overtime_hours (total_overtime_hours)
- INDEX idx_total_overtime_amount (total_overtime_amount)
- INDEX idx_calculation_method (calculation_method)
- INDEX idx_policy_id (policy_id)

Constraints:
- fk_overtime_calculation_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_calculation_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_overtime_calculation_request FOREIGN KEY (overtime_request_id) REFERENCES overtime_request(id)
- fk_overtime_calculation_policy FOREIGN KEY (policy_id) REFERENCES overtime_policy(id)
- fk_overtime_calculation_calculated_by FOREIGN KEY (calculated_by_user_id) REFERENCES user(id)
- fk_overtime_calculation_verified_by FOREIGN KEY (verified_by_user_id) REFERENCES user(id)
- chk_positive_hours CHECK (regular_hours >= 0 AND overtime_1x_hours >= 0 AND overtime_15x_hours >= 0 AND overtime_2x_hours >= 0 AND overtime_3x_hours >= 0)
- chk_positive_amounts CHECK (base_hourly_rate >= 0 AND total_overtime_amount >= 0)
```

## 4.4.7 Overtime Budget Schema

```
Table: overtime_budget
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- location_id: UUID (Foreign Key to location)
- cost_center_code: VARCHAR(50)
- budget_year: INTEGER (Required)
- budget_period: ENUM('Annual', 'Quarterly', 'Monthly', 'Project')
- budget_type: ENUM('Planned', 'Approved', 'Revised', 'Emergency')
- total_budget_amount: DECIMAL(15,2) (Required)
- allocated_budget_amount: DECIMAL(15,2) (Default: 0.00)
- utilized_budget_amount: DECIMAL(15,2) (Default: 0.00)
- remaining_budget_amount: DECIMAL(15,2)
- currency_code: VARCHAR(10) (Default: 'USD')
- budgeted_hours: DECIMAL(8,2) (Default: 0.00)
- utilized_hours: DECIMAL(8,2) (Default: 0.00)
- remaining_hours: DECIMAL(8,2)
- average_hourly_rate: DECIMAL(10,2) (Default: 0.00)
- budget_utilization_percentage: DECIMAL(5,2) (Default: 0.00)
- alert_threshold_percentage: DECIMAL(5,2) (Default: 80.00)
- approval_required_above: DECIMAL(15,2) (Default: 0.00)
- emergency_budget_amount: DECIMAL(15,2) (Default: 0.00)
- emergency_utilized_amount: DECIMAL(15,2) (Default: 0.00)
- budget_notes: TEXT
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- effective_from: DATE (Required)
- effective_to: DATE
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_location_id (location_id)
- INDEX idx_cost_center_code (cost_center_code)
- INDEX idx_budget_year (budget_year)
- INDEX idx_budget_period (budget_period)
- INDEX idx_budget_type (budget_type)
- INDEX idx_total_budget_amount (total_budget_amount)
- INDEX idx_budget_utilization_percentage (budget_utilization_percentage)
- INDEX idx_is_active (is_active)

Constraints:
- fk_overtime_budget_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_budget_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_overtime_budget_location FOREIGN KEY (location_id) REFERENCES location(id)
- fk_overtime_budget_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_overtime_budget_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_year_positive CHECK (budget_year > 0)
- chk_budget_order CHECK (allocated_budget_amount <= total_budget_amount AND utilized_budget_amount <= allocated_budget_amount)
- chk_utilization_percentage CHECK (budget_utilization_percentage BETWEEN 0 AND 100)
```

## 4.4.8 Overtime Compliance Schema

```
Table: overtime_compliance
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- compliance_type: ENUM('Daily Hours Limit', 'Weekly Hours Limit', 'Rest Periods', 'Night Shift Rules', 'Weekend Rules', 'Holiday Rules', 'Minor Labor Laws')
- compliance_requirement: VARCHAR(200) (Required)
- jurisdiction: VARCHAR(100) (Required)
- compliance_standard: VARCHAR(200) (Required)
- check_frequency: ENUM('Daily', 'Weekly', 'Monthly', 'Per Request', 'Real-time')
- check_status: ENUM('Compliant', 'Non-Compliant', 'Requires Action', 'Exemption', 'Pending Review')
- risk_level: ENUM('Low', 'Medium', 'High', 'Critical')
- affected_employees: INTEGER (Default: 0)
- compliance_score: DECIMAL(5,2)
- violation_details: TEXT
- corrective_action_required: TEXT
- corrective_action_deadline: DATE
- corrective_action_status: ENUM('Not Started', 'In Progress', 'Completed', 'Overdue')
- exemption_approved: BOOLEAN (Default: FALSE)
- exemption_reason: TEXT
- exemption_approved_by_user_id: UUID (Foreign Key to user)
- exemption_approved_at: TIMESTAMP
- penalty_amount: DECIMAL(10,2) (Default: 0.00)
- audit_required: BOOLEAN (Default: FALSE)
- audit_date: DATE
- audit_results: TEXT
- supporting_documents: JSON (Array of document IDs)
- next_review_date: DATE
- checked_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_compliance_type (compliance_type)
- INDEX idx_jurisdiction (jurisdiction)
- INDEX idx_check_status (check_status)
- INDEX idx_risk_level (risk_level)
- INDEX idx_corrective_action_deadline (corrective_action_deadline)
- INDEX idx_next_review_date (next_review_date)

Constraints:
- fk_overtime_compliance_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_compliance_exemption_approved_by FOREIGN KEY (exemption_approved_by_user_id) REFERENCES user(id)
- fk_overtime_compliance_checked_by FOREIGN KEY (checked_by_user_id) REFERENCES user(id)
- chk_compliance_score_range CHECK (compliance_score BETWEEN 0 AND 100)
```

## 4.4.9 Overtime Analytics Schema

```
Table: overtime_analytics
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- location_id: UUID (Foreign Key to location)
- employee_id: UUID (Foreign Key to employee)
- analysis_type: ENUM('Overtime Utilization', 'Cost Analysis', 'Budget Variance', 'Compliance Analysis', 'Trend Analysis', 'Productivity Impact')
- analysis_period: ENUM('Daily', 'Weekly', 'Monthly', 'Quarterly', 'Semi-Annual', 'Annual')
- analysis_date: DATE (Required)
- metric_name: VARCHAR(100) (Required)
- metric_value: DECIMAL(15,2)
- metric_unit: VARCHAR(50)
- benchmark_value: DECIMAL(15,2)
- variance_percentage: DECIMAL(5,2)
- target_value: DECIMAL(15,2)
- achievement_percentage: DECIMAL(5,2)
- total_employees: INTEGER (Default: 0)
- employees_with_overtime: INTEGER (Default: 0)
- overtime_percentage: DECIMAL(5,2) (Default: 0.00)
- total_overtime_hours: DECIMAL(8,2) (Default: 0.00)
- average_overtime_hours: DECIMAL(8,2) (Default: 0.00)
- total_overtime_cost: DECIMAL(15,2) (Default: 0.00)
- average_overtime_cost: DECIMAL(10,2) (Default: 0.00)
- budget_utilization: DECIMAL(5,2) (Default: 0.00)
- compliance_score: DECIMAL(5,2) (Default: 0.00)
- productivity_impact: DECIMAL(5,2) (Default: 0.00)
- cost_per_productivity_unit: DECIMAL(10,2) (Default: 0.00)
- additional_metrics: JSON (Additional KPIs and breakdowns)
- calculated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_location_id (location_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_analysis_type (analysis_type)
- INDEX idx_analysis_period (analysis_period)
- INDEX idx_analysis_date (analysis_date)
- INDEX idx_metric_name (metric_name)

Constraints:
- fk_overtime_analytics_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_analytics_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_overtime_analytics_location FOREIGN KEY (location_id) REFERENCES location(id)
- fk_overtime_analytics_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_overtime_analytics_calculated_by FOREIGN KEY (calculated_by_user_id) REFERENCES user(id)
```

## 4.4.10 Overtime Communication Schema

```
Table: overtime_communication
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- employee_id: UUID (Foreign Key to employee)
- communication_type: ENUM('Overtime Request', 'Approval Notification', 'Rejection Notification', 'Budget Alert', 'Compliance Warning', 'Policy Update', 'Reminder')
- communication_title: VARCHAR(200) (Required)
- communication_purpose: TEXT
- delivery_method: ENUM('Email', 'SMS', 'Push Notification', 'Portal Alert', 'Manager Notification', 'Finance Notification')
- communication_status: ENUM('Draft', 'Scheduled', 'Sent', 'Delivered', 'Failed', 'Read', 'Acknowledged')
- overtime_request_id: UUID (Foreign Key to overtime_request)
- scheduled_time: TIMESTAMP
- sent_time: TIMESTAMP
- delivery_time: TIMESTAMP
- read_time: TIMESTAMP
- acknowledged_time: TIMESTAMP
- content_type: ENUM('Text', 'HTML', 'PDF', 'Link', 'Interactive')
- content_summary: TEXT
- content_details: JSON (Full communication content)
- priority: ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')
- requires_action: BOOLEAN (Default: FALSE)
- action_deadline: DATE
- action_completed: BOOLEAN (Default: FALSE)
- action_completion_date: DATE
- template_used: VARCHAR(200)
- personalization_data: JSON (Personalization variables and values)
- escalation_sent: BOOLEAN (Default: FALSE)
- escalation_level: INTEGER (Default: 0)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_communication_type (communication_type)
- INDEX idx_delivery_method (delivery_method)
- INDEX idx_communication_status (communication_status)
- INDEX idx_overtime_request_id (overtime_request_id)
- INDEX idx_scheduled_time (scheduled_time)
- INDEX idx_priority (priority)
- INDEX idx_requires_action (requires_action)
- INDEX idx_action_deadline (action_deadline)

Constraints:
- fk_overtime_communication_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_communication_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_overtime_communication_request FOREIGN KEY (overtime_request_id) REFERENCES overtime_request(id)
- fk_overtime_communication_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
```

## 4.4.11 Overtime Audit Log Schema

```
Table: overtime_audit_log
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- action: ENUM('Create', 'Update', 'Delete', 'Submit', 'Approve', 'Reject', 'Cancel', 'Calculate', 'Process', 'Adjust', 'Export')
- entity_type: ENUM('Overtime Request', 'Overtime Policy', 'Overtime Calculation', 'Overtime Budget', 'Overtime Compliance', 'Overtime Analytics', 'Overtime Communication')
- entity_id: UUID
- old_values: JSON (Previous values)
- new_values: JSON (Updated values)
- field_changes: JSON (Specific field changes)
- action_reason: TEXT
- business_justification: TEXT
- impact_assessment: TEXT
- affected_employees: INTEGER (Default: 0)
- payroll_impact: BOOLEAN (Default: FALSE)
- compliance_impact: TEXT
- budget_impact: DECIMAL(15,2) (Default: 0.00)
- cost_impact: DECIMAL(15,2) (Default: 0.00)
- performed_by_user_id: UUID (Foreign Key to user)
- ip_address: VARCHAR(45)
- user_agent: TEXT
- session_id: VARCHAR(100)
- timestamp: TIMESTAMP (Auto)
- additional_context: JSON (Extra context information)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_action (action)
- INDEX idx_entity_type (entity_type)
- INDEX idx_performed_by (performed_by_user_id)
- INDEX idx_timestamp (timestamp)
- INDEX idx_payroll_impact (payroll_impact)
- INDEX idx_budget_impact (budget_impact)
- INDEX idx_cost_impact (cost_impact)
- INDEX idx_affected_employees (affected_employees)

Constraints:
- fk_overtime_audit_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_overtime_audit_performed_by FOREIGN KEY (performed_by_user_id) REFERENCES user(id)
