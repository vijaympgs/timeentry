# 3.6 Compensation Planning

## 3.6.1 Business Purpose

Compensation Planning provides strategic framework for designing, budgeting, and managing compensation programs across the organization. This ensures market competitiveness, internal equity, cost optimization, and alignment with business objectives while supporting data-driven decision making, scenario modeling, and long-term compensation strategy development.

## 3.6.2 Business Scope

Enable comprehensive compensation planning management including annual budget planning, salary increase modeling, equity compensation planning, bonus allocation, market analysis integration, and compensation analytics. The system supports automated calculations, scenario modeling, compliance monitoring, and audit trails while ensuring accuracy, strategic alignment, and regulatory compliance across all compensation programs and organizational levels.

## 3.6.3 Compensation Budget Planning Schema

```
Table: compensation_budget_plan
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- plan_year: INTEGER (Required)
- plan_type: ENUM('Annual', 'Mid-Year', 'Ad Hoc', 'Strategic', 'Restructuring')
- plan_status: ENUM('Draft', 'Under Review', 'Approved', 'Active', 'Completed', 'Cancelled')
- planning_cycle: ENUM('Annual', 'Semi-Annual', 'Quarterly')
- start_date: DATE (Required)
- end_date: DATE (Required)
- total_budget_amount: DECIMAL(15,2) (Required)
- allocated_budget: DECIMAL(15,2) (Default: 0.00)
- utilized_budget: DECIMAL(15,2) (Default: 0.00)
- remaining_budget: DECIMAL(15,2)
- currency_code: VARCHAR(10) (Default: 'USD')
- exchange_rate: DECIMAL(10,6) (Default: 1.000000)
- headcount_budget: INTEGER (Default: 0)
- average_salary_budget: DECIMAL(15,2) (Default: 0.00)
- merit_budget_percentage: DECIMAL(5,2) (Default: 0.00)
- bonus_budget_percentage: DECIMAL(5,2) (Default: 0.00)
- equity_budget_percentage: DECIMAL(5,2) (Default: 0.00)
- department_allocations: JSON (Budget allocations by department)
- level_allocations: JSON (Budget allocations by job level)
- geographic_allocations: JSON (Budget allocations by location)
- business_unit_allocations: JSON (Budget allocations by business unit)
- planning_assumptions: JSON (Key assumptions and constraints)
- market_data_sources: JSON (Market data and benchmarks used)
- inflation_rate: DECIMAL(5,2) (Default: 0.00)
- economic_factors: JSON (Economic conditions and adjustments)
- risk_factors: JSON (Risk considerations and contingencies)
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_plan_year (plan_year)
- INDEX idx_plan_type (plan_type)
- INDEX idx_plan_status (plan_status)
- INDEX idx_start_date (start_date)
- INDEX idx_end_date (end_date)
- INDEX idx_total_budget_amount (total_budget_amount)

Constraints:
- fk_compensation_budget_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_compensation_budget_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_compensation_budget_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_plan_year_positive CHECK (plan_year > 0)
- chk_budget_order CHECK (allocated_budget <= total_budget AND utilized_budget <= allocated_budget)
- chk_percentages_valid CHECK (merit_budget_percentage BETWEEN 0 AND 100 AND bonus_budget_percentage BETWEEN 0 AND 100 AND equity_budget_percentage BETWEEN 0 AND 100)
```

## 3.6.4 Salary Increase Modeling Schema

```
Table: salary_increase_modeling
Fields:
- id: UUID (Primary Key)
- budget_plan_id: UUID (Foreign Key to compensation_budget_plan)
- company_id: UUID (Key to company)
- employee_id: UUID (Foreign Key to employee)
- department_id: UUID (Foreign Key to department)
- position_id: UUID (Foreign Key to position)
- location_id: UUID (Foreign Key to location)
- modeling_scenario: ENUM('Current State', 'Market Adjustment', 'Promotion', 'Restructuring', 'Inflation Adjustment', 'Performance-Based')
- current_salary: DECIMAL(15,2) (Required)
- proposed_salary: DECIMAL(15,2) (Required)
- increase_amount: DECIMAL(15,2) (Default: 0.00)
- increase_percentage: DECIMAL(5,2) (Default: 0.00)
- performance_rating: VARCHAR(10)
- years_of_service: INTEGER (Default: 0)
- market_position_compa_ratio: DECIMAL(5,2) (Default: 0.00)
- range_penetration: DECIMAL(5,2) (Default: 0.00)
- salary_grade_id: UUID (Foreign Key to salary_grade)
- position_level: INTEGER (Default: 1)
- experience_level: ENUM('Entry', 'Junior', 'Mid-Level', 'Senior', 'Lead', 'Principal', 'Executive')
- education_level: ENUM('High School', 'Associate', 'Bachelor', 'Master', 'PhD', 'Professional')
- skill_level: ENUM('Basic', 'Intermediate', 'Advanced', 'Expert', 'Specialist')
- certification_level: ENUM('None', 'Basic', 'Intermediate', 'Advanced', 'Expert', 'Master')
- location_adjustment: DECIMAL(5,2) (Default: 0.00)
- cost_of_living_adjustment: DECIMAL(5,2) (Default: 0.00)
- market_adjustment: DECIMAL(5,2) (Default: 0.00)
- special_adjustment: DECIMAL(15,2) (Default: 0.00)
- adjustment_reason: TEXT
- modeling_method: ENUM('Percentage Based', 'Matrix Based', 'Formula Based', 'AI Predictive')
- calculation_details: JSON (Detailed calculation breakdown)
- effective_date: DATE (Required)
 modelling_date: DATE (Auto)
- created_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_budget_plan_id (budget_plan_id)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_department_id (department_id)
- idx_position_id (position_id)
- idx_location_id (location_id)
- INDEX idx_modeling_scenario (modeling_scenario)
- idx_performance_rating (performance_rating)
- idx_years_of_service (years_of_service)
- idx_effective_date (effective_date)
- idx_modeling_date (modeling_date)

Constraints:
- fk_salary_modeling_budget_plan FOREIGN KEY (budget_plan_id) REFERENCES compensation_budget_plan(id)
- fk_salary_modeling_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_salary_modeling_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_salary_modeling_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_salary_modeling_position FOREIGN KEY (position_id) REFERENCES position(id)
- fk_salary_modeling_location FOREIGN KEY (location_id) REFERENCES location_id)
- fk_salary_modeling_grade FOREIGN KEY (salary_grade_id) REFERENCES salary_grade(id)
- fk_salary_modeling_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_salary_modeling_created_by FOREIGN KEY (created_by_user_id) REFERENCES user_id)
- chk_increase_percentage_valid CHECK (increase_percentage BETWEEN -50 AND 100)
- chk_compa_ratio_valid CHECK (market_position_compa_ratio BETWEEN 0 AND 200)
- chk_range_penetration_valid CHECK (range_penetration BETWEEN 0 AND 150)
```

## 3.6.5 Equity Compensation Planning Schema

```
Table: equity_compensation_planning
Fields:
- id: UUID (Primary Key)
- budget_plan_id: UUID (Foreign Key to compensation_budget_plan)
- company_id: UUID (Foreign Key to company)
- plan_type: ENUM('Stock Options', 'Restricted Stock Units', 'Performance Shares', 'Stock Appreciation Rights', 'Phantom Stock', 'Employee Stock Purchase Plan')
- equity_pool_id: UUID (Foreign Key to equity_pool)
- total_equity_value: DECIMAL(15,2) (Default: 0.00)
- allocated_equity_value: DECIMAL(15,2) (Default: 0.0)
- utilized_equity_value: DECIMAL(15,2) (Default: 0.00)
- remaining_equity_value: DECIMAL(15,2)
- currency_code: VARCHAR(10) (Default: 'USD')
- exchange_rate: DECIMAL(10,6) (Level: 1.000000)
- eligible_employees: INTEGER (Default: 0)
- participation_rate: DECIMAL(5,2) (Default: 0.00)
- vesting_schedule_type: ENUM('4-Year Graded', '3-Year Graded', 'Cliff Vesting', 'Performance-Based', 'Custom')
- total_shares_granted: INTEGER (Default: 0)
- shares_vested: INTEGER (Default: 0)
- shares_exercised: INTEGER (Default: 0)
- shares_forfeited: INTEGER (Default: 0)
- fair_market_value: DECIMAL(10,4) (Default: 0.00)
- exercise_price: DECIMAL(10,4) (Default: 0.00)
- strike_price: DECIMAL(10,4) (Level: 0.00)
- vesting_period_years: INTEGER (Default: 4)
- cliff_vesting_months: INTEGER (Default: 12)
- performance_metrics: JSON (Performance conditions for vesting)
- refresh_frequency: ENUM('Annually', 'Semi-Annual', 'Quarterly', 'Monthly')
- refresh_method: ENUM('Pro-Rata', 'Fixed Grant', 'Performance-Based')
- dilution_protection: BOOLEAN (Default: TRUE)
- buyback_program: BOOLEAN (Default: FALSE)
- early_exercise_allowed: BOOLEAN (Default: FALSE)
- transfer_restrictions: JSON (Transfer and sale restrictions)
- tax_treatment: ENUM('Qualified', 'Non-Qualified', 'Mixed')
- compliance_requirements: JSON (Regulatory and compliance requirements)
- created_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_budget_plan_id (budget_plan_id)
- INDEX idx_company_id (company_id)
- idx_plan_type (plan_type)
- idx_equity_pool_id (equity_pool_id)
- INDEX idx_total_equity_value (total_equity_value)
- idx_participation_rate (participation_rate)
- INDEX idx_vesting_schedule_type (vesting_schedule_type)
- INDEX idx_created_at (created_at)

Constraints:
- fk_equity_planning_budget_plan FOREIGN KEY (budget_plan_id) REFERENCES compensation_budget_plan(id)
- fk_equity_planning_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_equity_planning_pool FOREIGN KEY (equity_pool_id) REFERENCES equity_pool(id)
- fk_equity_planning_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_equity_planning_created_by FOREIGN KEY (created_by_user_id) REFERENCES user_id)
- chk_shares_granted_positive CHECK (total_shares_granted >= 0)
- chk_vesting_valid CHECK (shares_vested >= 0 AND shares_vested <= total_shares_granted)
- chk_exercised_valid CHECK (shares_exercised >= 0 AND shares_exercised <= shares_vested)
```

## 3.6.6 Bonus Allocation Schema

```
Table: bonus_allocation
Fields:
- id: UUID (Primary Key)
- budget_plan_id: UUID (Foreign Key to compensation_budget_plan)
- company_id: UUID (Foreign Key to company)
- bonus_type: ENUM('Annual Bonus', 'Performance Bonus', 'Spot Bonus', 'Retention Bonus', 'Sign-On Bonus', 'Referral Bonus', 'Project Bonus', 'Holiday Bonus', 'Sales Commission')
- allocation_period: ENUM('Annual', 'Quarterly', 'Semi-Annual', 'Monthly', 'One-Time')
- allocation_status: ENUM('Planned', 'Allocated', 'Paid', 'Cancelled', 'Deferred')
- total_bonus_pool: DECIMAL(15,2) (Default: 0.00)
- allocated_bonus_amount: DECIMAL(15,2) (Default: 0.00)
- paid_bonus_amount: DECIMAL(15,2) (Default: 0.00)
- remaining_bonus_amount: DECIMAL (15,2)
- currency_code: VARCHAR(10) (Default: 'USD)
- exchange_rate: DECIMAL(10,6) (Default: 1.000000)
- eligible_employees: INTEGER (Default: 0)
- participation_criteria: JSON (Eligibility requirements)
- performance_thresholds: JSON (Performance requirements)
- department_allocations: JSON (Bonus allocations by department)
- level_allocations: JSON (Bonus allocations by job level)
- geographic_allocations: JSON (Bonus allocations by location)
- business_unit_allocations: JSON (Bonus allocations by business unit)
- payout_schedule: JSON (Payout schedule and timing)
- tax_treatment: JSON (Tax withholding and reporting requirements)
- funding_source: ENUM('Operating Budget', 'Capital Budget', 'Special Reserve', 'Grant Program')
- compliance_requirements: JSON (Regulatory and compliance requirements)
- created_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_budget_plan_id (budget_plan_id)
- INDEX idx_company_id (company_id)
- idx_bonus_type (bonus_type)
- idx_allocation_period (allocation_period)
- idx_allocation_status (allocation_status)
- idx_total_bonus_pool (total_bonus_pool)
- idx_allocated_bonus_amount (allocated_bonus_amount)
- idx_paid_bonus_amount (paid_bonus_amount)

Constraints:
- fk_bonus_allocation_budget_plan FOREIGN KEY (budget_plan_id) REFERENCES compensation_budget_plan(id)
- fk_bonus_allocation_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_bonus_allocation_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_bonus_allocation_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_bonus_pool_order CHECK (allocated_bonus_amount <= total_bonus_pool AND paid_bonus_amount <= allocated_bonus_amount)
```

## 3.6.7 Market Analysis Integration Schema

```
Table: market_analysis_integration
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- data_source: VARCHAR(200) (Required)
- data_provider: VARCHAR(200) (Required)
- survey_name: VARCHAR(200) (Required)
- survey_type: ENUM('Compensation Survey', 'Benefits Survey', 'Industry Benchmark', 'Custom Survey')
- survey_date: DATE (Required)
- publication_date: DATE
- data_year: INTEGER (Required)
- geographic_region: VARCHAR(100) (Required)
- industry_sector: VARCHAR(100) (Required)
- company_size_category: ENUM('Startup', 'Small', 'Medium', 'Large', 'Enterprise')
- job_family: VARCHAR(100)
- position_level: VARCHAR(100)
- experience_level: ENUM('Entry', 'Junior', 'Mid-Level', 'Senior', 'Lead', 'Principal', 'Executive')
- education_level: ENUM('High School', 'Associate', 'Bachelor', 'Master', 'PhD', 'Professional')
- salary_percentile_10: DECIMAL(15,2) (Default: 0.00)
- salary_percentile_25: DECIMAL(15,2) (Default: 0.00)
- salary_percentile_50: DECIMAL(15,2) (Default: 0.00)
- salary_percentile_75: DECIMAL(15,2) (Default: 0.00)
- salary_percentile_90: DECIMAL(15,2) (Default: 0.00)
- bonus_percentile_10: DECIMAL(15,2) (Default: 0.00)
- bonus_percentile_25: DECIMAL(15,2) (Default: 0.00)
- bonus_percentile_50: DECIMAL(15,2) (Default: 0.00)
- bonus_percentile_75: DECIMAL(15,2) (Default: 0.00)
- bonus_percentile_90: DECIMAL(15,2) (Default: 0.00)
- total_compensation_percentile_10: DECIMAL(15,2) (Default: 0.00)
- total_compensation_percentile_25: DECIMAL(15,2) (Default: 0.00)
- total_compensation_percentile_50: DECIMAL(15,2) (Default: 0.00)
- total_compensation_percentile_75: DECIMAL(15,2) (Default: 0.00)
- total_compensation_percentile_90: DECIMAL(15,2) (Default: 0.00)
- data_quality_score: DECIMAL(3,2) (Check: 1.00 TO 5.00)
- reliability_rating: ENUM('Low', 'Medium', 'High', 'Very High')
- benchmark_notes: TEXT
- data_access_url: VARCHAR(500)
- last_updated: TIMESTAMP
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- idx_data_source (data_source)
- idx_survey_name (survey_name)
- idx_survey_type (survey_type)
- idx_survey_date (survey_date)
- idx_data_year (data_year)
- idx_geographic_region (geographic_region)
- idx_industry_sector (industry_sector)
- idx_company_size_category (company_size_category)
- idx_job_family (job_family)
- idx_position_level (position_level)
- idx_experience_level (experience_level)
- idx_education_level (education_level)
- idx_salary_percentile_50 (salary_percentile_50)
- idx_total_compensation_percentile_50 (total_compensation_percentile_50)
- idx_data_quality_score (data_quality_score)
- idx_reliability_rating (reliability_rating)

Constraints:
- fk_market_analysis_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_market_analysis_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_data_quality_score_range CHECK (data_quality_score BETWEEN 1.00 AND 5.00)
```

## 3.6.8 Compensation Analytics Schema

```
Table: compensation_analytics
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- location_id: UUID (Foreign Key to location)
- budget_plan_id: UUID (Foreign Key to compensation_budget_plan)
- analysis_type: ENUM('Budget Variance', 'Salary Distribution', 'Market Position', 'Compensation Ratio', 'Turnover Impact', 'ROI Analysis', 'Equity Value', 'Bonus Effectiveness')
- analysis_period: ENUM('Monthly', 'Quarterly', 'Semi-Annual', 'Annual')
- analysis_date: DATE (Required)
- metric_name: VARCHAR(100) (Required)
- metric_value: DECIMAL(15,2)
- metric_unit: VARCHAR(50)
- benchmark_value: DECIMAL(15,2)
- variance_percentage: DECIMAL(5,2)
- target_value: DECIMAL(15,2)
- achievement_percentage: DECIMAL(5,2)
- employee_count: INTEGER
- total_compensation_cost: DECIMAL(15,2)
- average_compensation: DECIMAL(15,2)
- median_compensation: DECIMAL(15,2)
- compensation_range_minimum: DECIMAL(15,2)
- compensation_range_maximum: DECIMAL(15,2)
- market_competitiveness_score: DECIMAL(3,2)
- internal_equity_score: DECIMAL(3,2)
- budget_utilization_percentage: DECIMAL(5,2)
- roi_percentage: DECIMAL(5,2)
- turnover_impact_score: DECIMAL(3,2)
- additional_metrics: JSON (Additional KPIs and breakdowns)
- data_quality_indicators: JSON (Data completeness and accuracy metrics)
- calculated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_location_id (location_id)
- INDEX idx_budget_plan_id (budget_plan_id)
- INDEX idx_analysis_type (analysis_type)
- INDEX idx_analysis_period (analysis_period)
- INDEX idx_analysis_date (analysis_date)
- INDEX idx_metric_name (metric_name)

Constraints:
- fk_compensation_analytics_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_compensation_analytics_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_compensation_analytics_location FOREIGN KEY (location_id) REFERENCES location(id)
- fk_compensation_analytics_budget_plan FOREIGN KEY (budget_plan_id) REFERENCES compensation_budget_plan(id)
- fk_compensation_analytics_calculated_by FOREIGN KEY (calculated_by_user_id) REFERENCES user(id)
```

## 3.6.9 Compensation Planning Workflow Schema

```
Table: compensation_planning_workflow
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- budget_plan_id: UUID (Foreign Key to compensation_budget_plan)
- workflow_name: VARCHAR(200) (Required)
- workflow_type: ENUM('Budget Approval', 'Salary Review', 'Equity Grant', 'Bonus Allocation', 'Market Analysis', 'Compliance Review')
- workflow_status: ENUM('Draft', 'Submitted', 'Under Review', 'Approved', 'Rejected', 'Cancelled', 'Completed')
- current_step: INTEGER (Default: 1)
- total_steps: INTEGER (Required)
- initiator_id: UUID (Foreign Key to user)
- current_approver_id: UUID (Foreign Key to user)
- workflow_priority: ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')
- due_date: DATE
- completion_date: DATE
- workflow_description: TEXT
- business_justification: TEXT
- approval_criteria: JSON (Approval requirements and criteria)
- escalation_rules: JSON (Escalation conditions and timing)
- notification_settings: JSON (Notification preferences and triggers)
- workflow_steps: JSON (Step-by-step workflow configuration)
- approver_sequence: JSON (Sequential approver list)
- parallel_approvers: JSON (Parallel approver groups)
- conditional_logic: JSON (Conditional approval logic)
- approval_history: JSON (Complete approval trail)
- comments_and_feedback: JSON (All comments and feedback)
- supporting_documents: JSON (Array of document IDs)
- compliance_checks: JSON (Compliance validation results)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_budget_plan_id (budget_plan_id)
- INDEX idx_workflow_name (workflow_name)
- INDEX idx_workflow_type (workflow_type)
- INDEX idx_workflow_status (workflow_status)
- INDEX idx_current_step (current_step)
- INDEX idx_initiator_id (initiator_id)
- INDEX idx_current_approver_id (current_approver_id)
- INDEX idx_workflow_priority (workflow_priority)
- INDEX idx_due_date (due_date)

Constraints:
- fk_compensation_workflow_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_compensation_workflow_budget_plan FOREIGN KEY (budget_plan_id) REFERENCES compensation_budget_plan(id)
- fk_compensation_workflow_initiator FOREIGN KEY (initiator_id) REFERENCES user(id)
- fk_compensation_workflow_current_approver FOREIGN KEY (current_approver_id) REFERENCES user(id)
- fk_compensation_workflow_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_current_step_valid CHECK (current_step > 0 AND current_step <= total_steps)
```

## 3.6.10 Compensation Communication Schema

```
Table: compensation_communication
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- budget_plan_id: UUID (Foreign Key to compensation_budget_plan)
- communication_type: ENUM('Budget Announcement', 'Salary Review Results', 'Bonus Communication', 'Equity Grant Notification', 'Market Position Update', 'Policy Changes')
- communication_title: VARCHAR(200) (Required)
- communication_purpose: TEXT
- target_audience: JSON (Target audience criteria and segments)
- delivery_method: ENUM('Email', 'Portal', 'Manager Meeting', 'All-Hands Meeting', 'Webinar', 'Print', 'Multi-Channel')
- communication_status: ENUM('Draft', 'Scheduled', 'Sent', 'Delivered', 'Failed', 'Cancelled')
- scheduled_date: TIMESTAMP
- sent_date: TIMESTAMP
- delivery_date: TIMESTAMP
- content_type: ENUM('HTML', 'Plain Text', 'PDF', 'Presentation', 'Video', 'Interactive', 'Mixed')
- content_summary: TEXT
- content_details: JSON (Full communication content and attachments)
- personalization_rules: JSON (Personalization and segmentation rules)
- confidentiality_level: ENUM('Public', 'Internal', 'Confidential', 'Highly Confidential')
- approval_required: BOOLEAN (Default: TRUE)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- tracking_enabled: BOOLEAN (Default: TRUE)
- open_rate: DECIMAL(5,2) (Default: 0.00)
- click_rate: DECIMAL(5,2) (Default: 0.00)
- response_rate: DECIMAL(5,2) (Default: 0.00)
- total_recipients: INTEGER (Default: 0)
- delivered_count: INTEGER (Default: 0)
- opened_count: INTEGER (Default: 0)
- clicked_count: INTEGER (Default: 0)
- responded_count: INTEGER (Default: 0)
- feedback_collected: JSON (Employee feedback and responses)
- follow_up_required: BOOLEAN (Default: FALSE)
- follow_up_actions: JSON (Required follow-up activities)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_budget_plan_id (budget_plan_id)
- INDEX idx_communication_type (communication_type)
- INDEX idx_delivery_method (delivery_method)
- INDEX idx_communication_status (communication_status)
- INDEX idx_scheduled_date (scheduled_date)
- INDEX idx_sent_date (sent_date)
- INDEX idx_confidentiality_level (confidentiality_level)

Constraints:
- fk_compensation_communication_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_compensation_communication_budget_plan FOREIGN KEY (budget_plan_id) REFERENCES compensation_budget_plan(id)
- fk_compensation_communication_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_compensation_communication_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_rates_valid CHECK (open_rate BETWEEN 0 AND 100 AND click_rate BETWEEN 0 AND 100 AND response_rate BETWEEN 0 AND 100)
```

## 3.6.11 Compensation Planning Audit Log Schema

```
Table: compensation_planning_audit_log
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- action: ENUM('Create', 'Update', 'Delete', 'Approve', 'Reject', 'Calculate', 'Allocate', 'Distribute', 'Communicate', 'Compliance Check')
- entity_type: ENUM('Budget Plan', 'Salary Model', 'Equity Plan', 'Bonus Allocation', 'Market Analysis', 'Analytics', 'Workflow', 'Communication')
- entity_id: UUID
- old_values: JSON (Previous values)
- new_values: JSON (Updated values)
- field_changes: JSON (Specific field changes)
- action_reason: TEXT
- business_justification: TEXT
- impact_assessment: TEXT
- affected_employees: INTEGER (Default: 0)
- financial_impact: DECIMAL(15,2)
- compliance_impact: TEXT
- strategic_impact: TEXT
- employee_impact: TEXT
- performed_by_user_id: UUID (Foreign Key to user)
- ip_address: VARCHAR(45)
- user_agent: TEXT
- session_id: VARCHAR(100)
- timestamp: TIMESTAMP (Auto)
- additional_context: JSON (Extra context information)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_action (action)
- INDEX idx_entity_type (entity_type)
- INDEX idx_performed_by (performed_by_user_id)
- INDEX idx_timestamp (timestamp)
- INDEX idx_financial_impact (financial_impact)

Constraints:
- fk_compensation_audit_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_compensation_audit_performed_by FOREIGN KEY (performed_by_user_id) REFERENCES user(id)
```
