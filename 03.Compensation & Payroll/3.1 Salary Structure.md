# 3.1 Salary Structure

## 3.1.1 Business Purpose

Salary Structure management provides a systematic framework for defining, organizing, and managing compensation grades, salary bands, and pay scales within the organization. This ensures equitable compensation practices, market competitiveness, internal equity compliance, and strategic alignment with business objectives while enabling effective budget planning, career progression planning, and compensation decision-making.

## 3.1.2 Business Scope

Enable comprehensive salary structure management including grade and band creation, salary range definition, market benchmarking, compensation planning, merit increase administration, and equity compensation management. The system supports automated salary calculations, compliance monitoring, audit trails, and analytics while ensuring alignment with organizational compensation philosophy, market positioning, and regulatory requirements.

## 3.1.3 Salary Grade Master Schema

```
Table: salary_grade
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- grade_code: VARCHAR(20) (Required, Unique, Indexed)
- grade_name: VARCHAR(100) (Required)
- grade_level: INTEGER (Required, Indexed)
- grade_family: ENUM('Executive', 'Management', 'Professional', 'Technical', 'Administrative', 'Operational', 'Sales', 'Support')
- grade_category: ENUM('Individual Contributor', 'People Manager', 'Senior Leadership', 'Executive')
- min_salary: DECIMAL(15,2) (Required)
- mid_salary: DECIMAL(15,2) (Required)
- max_salary: DECIMAL(15,2) (Required)
- currency_code: VARCHAR(10) (Default: 'USD')
- salary_frequency: ENUM('Annual', 'Monthly', 'Hourly')
- market_positioning: ENUM('Lead', 'Match', 'Lag')
- market_reference_percentile: DECIMAL(5,2) (Default: 50.00)
- job_evaluation_points: INTEGER
- competency_level: INTEGER
- responsibility_level: INTEGER
- scope_influence: ENUM('Individual', 'Team', 'Department', 'Division', 'Organization')
- geographic_differential: DECIMAL(5,2) (Default: 0.00)
- cost_of_living_adjustment: DECIMAL(5,2) (Default: 0.00)
- is_active: BOOLEAN (Default: TRUE)
- effective_date: DATE (Required)
- expiry_date: DATE
- parent_grade_id: UUID (Foreign Key to salary_grade)
- next_grade_id: UUID (Foreign Key to salary_grade)
- promotion_eligibility_months: INTEGER (Default: 12)
- description: TEXT
- grade_notes: TEXT
- created_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_grade_code_company (grade_code, company_id)
- INDEX idx_company_id (company_id)
- INDEX idx_grade_level (grade_level)
- INDEX idx_grade_family (grade_family)
- INDEX idx_grade_category (grade_category)
- INDEX idx_is_active (is_active)
- INDEX idx_effective_date (effective_date)
- INDEX idx_market_positioning (market_positioning)

Constraints:
- fk_salary_grade_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_salary_grade_parent FOREIGN KEY (parent_grade_id) REFERENCES salary_grade(id)
- fk_salary_grade_next FOREIGN KEY (next_grade_id) REFERENCES salary_grade(id)
- fk_salary_grade_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_salary_grade_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- chk_grade_level_positive CHECK (grade_level > 0)
- chk_salary_range_order CHECK (min_salary <= mid_salary AND mid_salary <= max_salary)
- chk_market_percentile_range CHECK (market_reference_percentile BETWEEN 0 AND 100)
```

## 3.1.4 Salary Band Management Schema

```
Table: salary_band
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- band_name: VARCHAR(100) (Required)
- band_code: VARCHAR(20) (Required, Unique, Indexed)
- band_type: ENUM('Functional', 'Job Family', 'Skill Level', 'Geographic', 'Business Unit')
- grade_range_start: INTEGER (Required)
- grade_range_end: INTEGER (Required)
- min_band_salary: DECIMAL(15,2) (Required)
- max_band_salary: DECIMAL(15,2) (Required)
- band_overlap_percentage: DECIMAL(5,2) (Default: 0.00)
- currency_code: VARCHAR(10) (Default: 'USD')
- market_reference_data: JSON (Market data sources and benchmarks)
- geographic_differentials: JSON (Location-based adjustments)
- industry_adjustments: JSON (Industry-specific modifiers)
- company_size_adjustment: DECIMAL(5,2) (Default: 0.00)
- performance_adjustment_range: JSON (Performance-based salary ranges)
- is_active: BOOLEAN (Default: TRUE)
- effective_date: DATE (Required)
- expiry_date: DATE
- description: TEXT
- business_justification: TEXT
- created_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_band_code_company (band_code, company_id)
- INDEX idx_company_id (company_id)
- INDEX idx_band_type (band_type)
- INDEX idx_grade_range (grade_range_start, grade_range_end)
- INDEX idx_is_active (is_active)
- INDEX idx_effective_date (effective_date)

Constraints:
- fk_salary_band_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_salary_band_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_salary_band_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- chk_grade_range_order CHECK (grade_range_end >= grade_range_start)
- chk_band_salary_order CHECK (max_band_salary >= min_band_salary)
```

## 3.1.5 Market Benchmarking Schema

```
Table: salary_market_benchmark
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- grade_id: UUID (Foreign Key to salary_grade)
- band_id: UUID (Foreign Key to salary_band)
- survey_provider: VARCHAR(100) (Required)
- survey_name: VARCHAR(200) (Required)
- survey_date: DATE (Required)
- survey_participants: INTEGER
- geographic_region: VARCHAR(100) (Required)
- industry_sector: VARCHAR(100) (Required)
- company_size_category: ENUM('Startup', 'Small', 'Medium', 'Large', 'Enterprise')
- job_family: VARCHAR(100)
- market_percentile_25: DECIMAL(15,2)
- market_percentile_50: DECIMAL(15,2)
- market_percentile_75: DECIMAL(15,2)
- market_percentile_90: DECIMAL(15,2)
- market_average: DECIMAL(15,2)
- currency_code: VARCHAR(10) (Default: 'USD')
- exchange_rate: DECIMAL(10,6) (Default: 1.000000)
- inflation_adjustment: DECIMAL(5,2) (Default: 0.00)
- data_quality_score: DECIMAL(3,2) (Check: 1.00 TO 5.00)
- reliability_rating: ENUM('Low', 'Medium', 'High', 'Very High')
- benchmark_notes: TEXT
- data_source_url: VARCHAR(500)
- created_by_user_id: UUID (Foreign Key to user)
- verified_by_user_id: UUID (Foreign Key to user)
- verified_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_grade_id (grade_id)
- INDEX idx_band_id (band_id)
- INDEX idx_survey_provider (survey_provider)
- INDEX idx_geographic_region (geographic_region)
- INDEX idx_industry_sector (industry_sector)
- INDEX idx_survey_date (survey_date)
- INDEX idx_reliability_rating (reliability_rating)

Constraints:
- fk_market_benchmark_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_market_benchmark_grade FOREIGN KEY (grade_id) REFERENCES salary_grade(id)
- fk_market_benchmark_band FOREIGN KEY (band_id) REFERENCES salary_band(id)
- fk_market_benchmark_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_market_benchmark_verified_by FOREIGN KEY (verified_by_user_id) REFERENCES user(id)
- chk_data_quality_score CHECK (data_quality_score BETWEEN 1.00 AND 5.00)
```

## 3.1.6 Compensation Planning Schema

```
Table: compensation_plan
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- plan_name: VARCHAR(200) (Required)
- plan_type: ENUM('Annual Merit', 'Promotion', 'Market Adjustment', 'Equity Adjustment', 'Special Program')
- plan_year: INTEGER (Required)
- plan_period: ENUM('Annual', 'Semi-Annual', 'Quarterly', 'Monthly')
- budget_currency: VARCHAR(10) (Default: 'USD')
- total_budget_amount: DECIMAL(15,2) (Required)
- allocated_budget: DECIMAL(15,2) (Default: 0.00)
- utilized_budget: DECIMAL(15,2) (Default: 0.00)
- remaining_budget: DECIMAL(15,2)
- eligibility_criteria: JSON (Rules for employee eligibility)
- performance_weighting: DECIMAL(5,2) (Default: 0.00)
- market_weighting: DECIMAL(5,2) (Default: 0.00)
- equity_weighting: DECIMAL(5,2) (Default: 0.00)
- merit_increase_pool_percentage: DECIMAL(5,2)
- promotion_budget_percentage: DECIMAL(5,2)
- market_adjustment_budget_percentage: DECIMAL(5,2)
- plan_status: ENUM('Draft', 'Submitted', 'Approved', 'Active', 'Completed', 'Cancelled')
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- start_date: DATE (Required)
- end_date: DATE (Required)
- communication_plan: TEXT
- guidelines_document: TEXT
- created_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_plan_type (plan_type)
- INDEX idx_plan_year (plan_year)
- INDEX idx_plan_status (plan_status)
- INDEX idx_start_date (start_date)
- INDEX idx_end_date (end_date)

Constraints:
- fk_compensation_plan_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_compensation_plan_workflow FOREIGN KEY (approval_workflow_id) REFERENCES approval_workflow(id)
- fk_compensation_plan_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_compensation_plan_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- chk_plan_year_positive CHECK (plan_year > 0)
- chk_weighting_total CHECK ((performance_weighting + market_weighting + equity_weighting) <= 100.00)
```

## 3.1.7 Employee Salary History Schema

```
Table: employee_salary_history
Fields:
- id: UUID (Primary Key)
- employee_id: UUID (Foreign Key to employee)
- company_id: UUID (Foreign Key to company)
- grade_id: UUID (Foreign Key to salary_grade)
- position_id: UUID (Foreign Key to position)
- department_id: UUID (Foreign Key to department)
- location_id: UUID (Foreign Key to location)
- salary_change_type: ENUM('New Hire', 'Promotion', 'Merit Increase', 'Market Adjustment', 'Demotion', 'Transfer', 'Equity Adjustment', 'Correction')
- previous_salary: DECIMAL(15,2)
- new_salary: DECIMAL(15,2) (Required)
- salary_change_amount: DECIMAL(15,2)
- salary_change_percentage: DECIMAL(5,2)
- previous_grade_id: UUID (Foreign Key to salary_grade)
- currency_code: VARCHAR(10) (Default: 'USD')
- salary_frequency: ENUM('Annual', 'Monthly', 'Hourly')
- effective_date: DATE (Required)
- reason_for_change: TEXT
- performance_rating: VARCHAR(10)
- market_position_compa_ratio: DECIMAL(5,2)
- range_penetration_percentage: DECIMAL(5,2)
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- compensation_plan_id: UUID (Foreign Key to compensation_plan)
- additional_compensation: JSON (Bonuses, equity, other compensation)
- change_notes: TEXT
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_company_id (company_id)
- INDEX idx_grade_id (grade_id)
- INDEX idx_position_id (position_id)
- INDEX idx_salary_change_type (salary_change_type)
- INDEX idx_effective_date (effective_date)
- INDEX idx_compensation_plan_id (compensation_plan_id)

Constraints:
- fk_salary_history_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_salary_history_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_salary_history_grade FOREIGN KEY (grade_id) REFERENCES salary_grade(id)
- fk_salary_history_position FOREIGN KEY (position_id) REFERENCES position(id)
- fk_salary_history_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_salary_history_location FOREIGN KEY (location_id) REFERENCES location(id)
- fk_salary_history_previous_grade FOREIGN KEY (previous_grade_id) REFERENCES salary_grade(id)
- fk_salary_history_workflow FOREIGN KEY (approval_workflow_id) REFERENCES approval_workflow(id)
- fk_salary_history_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_salary_history_plan FOREIGN KEY (compensation_plan_id) REFERENCES compensation_plan(id)
- fk_salary_history_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
```

## 3.1.8 Equity Compensation Schema

```
Table: equity_compensation
Fields:
- id: UUID (Primary Key)
- employee_id: UUID (Foreign Key to employee)
- company_id: UUID (Foreign Key to company)
- equity_plan_id: UUID (Foreign Key to equity_plan)
- grant_type: ENUM('Stock Options', 'Restricted Stock Units', 'Performance Shares', 'Stock Appreciation Rights', 'Phantom Stock')
- grant_number: VARCHAR(50) (Required, Indexed)
- grant_date: DATE (Required)
- grant_status: ENUM('Granted', 'Vested', 'Exercised', 'Forfeited', 'Expired', 'Cancelled')
- total_shares_granted: INTEGER (Required)
- shares_vested: INTEGER (Default: 0)
- shares_exercised: INTEGER (Default: 0)
- shares_forfeited: INTEGER (Default: 0)
- grant_price_per_share: DECIMAL(10,4)
- current_market_price: DECIMAL(10,4)
- exercise_price: DECIMAL(10,4)
- fair_market_value: DECIMAL(10,4)
- vesting_schedule_type: ENUM('Time-Based', 'Performance-Based', 'Hybrid', 'Cliff', 'Graded')
- vesting_schedule_details: JSON (Vesting periods and percentages)
- first_vest_date: DATE
- full_vest_date: DATE
- expiry_date: DATE
- exercise_window_days: INTEGER
- early_exercise_allowed: BOOLEAN (Default: FALSE)
- performance_conditions: TEXT
- currency_code: VARCHAR(10) (Default: 'USD')
- grant_reason: TEXT
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- approved_by_user_id: UUID (Foreign Key to user)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_grant_number_company (grant_number, company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_company_id (company_id)
- INDEX idx_equity_plan_id (equity_plan_id)
- INDEX idx_grant_type (grant_type)
- INDEX idx_grant_status (grant_status)
- INDEX idx_grant_date (grant_date)
- INDEX idx_vest_date (first_vest_date)
- INDEX idx_expiry_date (expiry_date)

Constraints:
- fk_equity_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_equity_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_equity_plan FOREIGN KEY (equity_plan_id) REFERENCES equity_plan(id)
- fk_equity_workflow FOREIGN KEY (approval_workflow_id) REFERENCES approval_workflow(id)
- fk_equity_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_equity_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_shares_granted_positive CHECK (total_shares_granted > 0)
- chk_shares_vested_valid CHECK (shares_vested >= 0 AND shares_vested <= total_shares_granted)
```

## 3.1.9 Salary Structure Analytics Schema

```
Table: salary_structure_analytics
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- grade_id: UUID (Foreign Key to salary_grade)
- location_id: UUID (Foreign Key to location)
- analysis_type: ENUM('Compa-Ratio', 'Range Penetration', 'Salary Distribution', 'Market Position', 'Equity Analysis', 'Budget Variance')
- analysis_period: ENUM('Monthly', 'Quarterly', 'Semi-Annual', 'Annual')
- analysis_date: DATE (Required)
- metric_value: DECIMAL(15,2)
- metric_unit: VARCHAR(50)
- benchmark_value: DECIMAL(15,2)
- variance_percentage: DECIMAL(5,2)
- target_value: DECIMAL(15,2)
- achievement_percentage: DECIMAL(5,2)
- employee_count: INTEGER
- total_payroll_cost: DECIMAL(15,2)
- average_salary: DECIMAL(15,2)
- median_salary: DECIMAL(15,2)
- salary_range_minimum: DECIMAL(15,2)
- salary_range_maximum: DECIMAL(15,2)
- market_competitiveness_score: DECIMAL(3,2)
- internal_equity_score: DECIMAL(3,2)
- budget_utilization_percentage: DECIMAL(5,2)
- additional_metrics: JSON (Additional KPIs and breakdowns)
- data_quality_indicators: JSON (Data completeness and accuracy metrics)
- calculated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_grade_id (grade_id)
- INDEX idx_location_id (location_id)
- INDEX idx_analysis_type (analysis_type)
- INDEX idx_analysis_period (analysis_period)
- INDEX idx_analysis_date (analysis_date)

Constraints:
- fk_salary_analytics_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_salary_analytics_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_salary_analytics_grade FOREIGN KEY (grade_id) REFERENCES salary_grade(id)
- fk_salary_analytics_location FOREIGN KEY (location_id) REFERENCES location(id)
- fk_salary_analytics_calculated_by FOREIGN KEY (calculated_by_user_id) REFERENCES user(id)
```

## 3.1.10 Salary Structure Compliance Schema

```
Table: salary_structure_compliance
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- compliance_type: ENUM('Equal Pay', 'Minimum Wage', 'Overtime Exemption', 'Living Wage', 'Industry Standards', 'Local Regulations')
- compliance_check_name: VARCHAR(200) (Required)
- jurisdiction: VARCHAR(100) (Required)
- effective_date: DATE (Required)
- compliance_standard: VARCHAR(200) (Required)
- check_status: ENUM('Compliant', 'Non-Compliant', 'Requires Action', 'Exemption', 'Pending Review')
- risk_level: ENUM('Low', 'Medium', 'High', 'Critical')
- affected_employee_count: INTEGER
- non_compliant_count: INTEGER
- compliance_score: DECIMAL(5,2)
- violation_details: TEXT
- corrective_action_required: TEXT
- corrective_action_deadline: DATE
- corrective_action_status: ENUM('Not Started', 'In Progress', 'Completed', 'Overdue')
- exemption_approved: BOOLEAN (Default: FALSE)
- exemption_reason: TEXT
- exemption_approved_by_user_id: UUID (Foreign Key to user)
- exemption_approved_at: TIMESTAMP
- supporting_documents: JSON (Array of document IDs)
- checked_by_user_id: UUID (Foreign Key to user)
- next_review_date: DATE
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_compliance_type (compliance_type)
- INDEX idx_jurisdiction (jurisdiction)
- INDEX idx_check_status (check_status)
- INDEX idx_risk_level (risk_level)
- INDEX idx_effective_date (effective_date)
- INDEX idx_corrective_action_deadline (corrective_action_deadline)

Constraints:
- fk_salary_compliance_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_salary_compliance_exemption_approved_by FOREIGN KEY (exemption_approved_by_user_id) REFERENCES user(id)
- fk_salary_compliance_checked_by FOREIGN KEY (checked_by_user_id) REFERENCES user(id)
- chk_compliance_score_range CHECK (compliance_score BETWEEN 0 AND 100)
```

## 3.1.11 Salary Structure Audit Log Schema

```
Table: salary_structure_audit_log
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- action: ENUM('Create', 'Update', 'Delete', 'Approve', 'Activate', 'Deactivate', 'Adjust', 'Promote', 'Transfer')
- entity_type: ENUM('Salary Grade', 'Salary Band', 'Market Benchmark', 'Compensation Plan', 'Employee Salary', 'Equity Grant', 'Compliance Check')
- entity_id: UUID
- old_values: JSON (Previous values)
- new_values: JSON (Updated values)
- field_changes: JSON (Specific field changes)
- action_reason: TEXT
- business_justification: TEXT
- impact_assessment: TEXT
- affected_employees: INTEGER (Default: 0)
- financial_impact: DECIMAL(15,2)
- performed_by_user_id: UUID (Foreign Key to user)
- ip_address: VARCHAR(45)
- user_agent: TEXT
- session_id: VARCHAR(100)
- timestamp: TIMESTAMP (Auto)
- additional_context: JSON (Extra context information)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_action (action)
- INDEX idx_entity_type (entity_type)
- INDEX idx_performed_by (performed_by_user_id)
- INDEX idx_timestamp (timestamp)
- INDEX idx_financial_impact (financial_impact)

Constraints:
- fk_salary_audit_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_salary_audit_performed_by FOREIGN KEY (performed_by_user_id) REFERENCES user(id)
