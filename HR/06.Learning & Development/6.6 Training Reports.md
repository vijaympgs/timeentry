# 6.6 Training Reports

## 6.6.1 Business Purpose

Training Reports provides comprehensive analytics and reporting capabilities for learning and development initiatives. This ensures data-driven decision making, performance measurement, compliance tracking, and strategic planning while supporting various report types, visualization formats, and integration with HR systems and business intelligence platforms.

## 6.6.2 Business Scope

Enable complete training reporting management including report design, data aggregation, visualization, and distribution. The system supports multiple report types, automated scheduling, real-time dashboards, and audit trails while ensuring accuracy, timeliness, and effectiveness across all training reporting processes and organizational levels.

## 6.6.3 Training Report Master Schema

```
Table: training_report
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- report_code: VARCHAR(50) (Required, Indexed)
- report_name: VARCHAR(200) (Required)
- report_type: ENUM('Training Summary', 'Completion Report', 'Effectiveness Analysis', 'Cost Analysis', 'Compliance Report', 'Skill Gap Analysis', 'Learning Progress', 'Instructor Performance', 'Budget Utilization', 'ROI Analysis', 'Trend Analysis', 'Predictive Analytics')
- report_category: ENUM('Executive', 'Management', 'Operational', 'Compliance', 'Financial', 'Strategic', 'Departmental', 'Team', 'Individual', 'Vendor', 'Custom')
- report_description: TEXT (Required)
- report_objectives: JSON (Specific report objectives and goals)
- target_audience: JSON (Target audience and distribution list)
- data_sources: JSON (Data sources and integration points)
- reporting_frequency: ENUM('Daily', 'Weekly', 'Monthly', 'Quarterly', 'Semi-Annual', 'Annual', 'On Demand', 'Scheduled')
- delivery_method: ENUM('Email', 'Dashboard', 'PDF', 'Excel', 'PowerPoint', 'Web Dashboard', 'API Integration', 'Print')
- visualization_type: ENUM('Table', 'Chart', 'Graph', 'Dashboard', 'Infographic', 'Heat Map', 'Scorecard', 'Custom')
- report_format: ENUM('Standard', 'Executive Summary', 'Detailed Analysis', 'Comparative', 'Trend Analysis', 'Predictive Insights')
- data_period_start: DATE (Required)
- data_period_end: DATE (Required)
- comparison_period_start: DATE
- comparison_period_end: DATE
- baseline_period_start: DATE
- baseline_period_end: DATE
- currency: VARCHAR(3) (Default: 'USD')
- report_status: ENUM('Draft', 'Pending Review', 'Approved', 'Published', 'Distributed', 'Archived', 'Deleted')
- priority: ENUM('Low', 'Medium', 'High', 'Critical', 'Urgent')
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- distribution_list: JSON (Distribution list and preferences)
- access_permissions: JSON (Access permissions and restrictions)
- data_retention_days: INTEGER (Default: 2555)
- auto_archive: BOOLEAN (Default: TRUE)
- export_formats: JSON (Available export formats)
- template_id: UUID (Foreign Key to report_template)
- custom_parameters: JSON (Custom report parameters and filters)
- kpi_definitions: JSON (KPI definitions and calculations)
- success_criteria: JSON (Success criteria and benchmarks)
- quality_standards: JSON (Quality standards and validation rules)
- is_active: BOOLEAN (Default: TRUE)
- effective_from: DATE (Required)
- effective_to: DATE
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_training_report_company_code (company_id, report_code)
- INDEX idx_company_id (company_id)
- INDEX idx_report_type (report_type)
- INDEX idx_report_category (report_category)
- INDEX idx_reporting_frequency (reporting_frequency)
- INDEX idx_delivery_method (delivery_method)
- INDEX idx_visualization_type (visualization_type)
- INDEX idx_report_format (report_format)
- idx_data_period_start (data_period_start)
- INDEX idx_data_period_end (data_period_end)
- idx_comparison_period_start (comparison_period_start)
- INDEX idx_comparison_period_end (comparison_period_end)
- idx_baseline_period_start (baseline_period_start)
- INDEX idx_baseline_period_end (baseline_period_end)
- idx_report_status (report_status)
- INDEX idx_priority (priority)
- idx_approval_workflow_id (approval_workflow_id)
- idx_approved_by_user_id (approved_by_user_id)
- INDEX idx_is_active (is_active)
- INDEX idx_effective_from (effective_from)

Constraints:
- fk_training_report_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_report_approval_workflow FOREIGN KEY (approval_workflow_id) REFERENCES approval_workflow(id)
- fk_training_report_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_training_report_template FOREIGN KEY (template_id) REFERENCES report_template(id)
- chk_period_order CHECK (data_period_end >= data_period_start AND comparison_period_end >= comparison_period_start AND baseline_period_end >= baseline_period_start)
- chk_effective_order CHECK (effective_to IS NULL OR effective_to >= effective_from)
- chk_retention_positive CHECK (data_retention_days >= 0)
```

## 6.6.4 Training Report Data Schema

```
Table: training_report_data
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- report_id: UUID (Foreign Key to training_report)
- data_source: VARCHAR(100) (Required, Indexed)
- data_type: ENUM('Enrollment Data', 'Completion Data', 'Assessment Results', 'Progress Data', 'Cost Data', 'Feedback Data', 'Instructor Performance', 'Learning Analytics', 'Skill Assessment Data', 'Compliance Data', 'Budget Data', 'External Data')
- data_category: ENUM('Quantitative', 'Qualitative', 'Mixed', 'Statistical', 'Trend', 'Comparative', 'Predictive')
- data_format: ENUM('Numeric', 'Text', 'Date', 'Boolean', 'JSON', 'Binary', 'Image', 'Document', 'URL')
- data_value: TEXT
- data_unit: VARCHAR(50)
- measurement_date: DATE (Required)
- recorded_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_report_id (report_id)
- INDEX idx_data_source (data_source)
- INDEX idx_data_type (data_type)
- INDEX idx_data_category (data_category)
- INDEX idx_data_format (data_format)
- INDEX idx_measurement_date (measurement_date)
- INDEX idx_recorded_by_user_id (recorded_by_user_id)

Constraints:
- fk_training_report_data_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_data_report FOREIGN KEY (report_id) REFERENCES training_report(id)
- fk_training_data_recorded_by FOREIGN KEY (recorded_by_user_id) REFERENCES user(id)
```

## 6.6.5 Training Report Schedule Schema

```
Table: training_report_schedule
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- report_id: UUID (Foreign Key to training_report)
- schedule_code: VARCHAR(50) (Required, Indexed)
- schedule_name: VARCHAR(200) (Required)
- schedule_type: ENUM('One-Time', 'Recurring', 'Scheduled', 'On-Demand', 'Event-Triggered')
- schedule_category: ENUM('Regular', 'Ad-Hoc', 'Emergency', 'Compliance', 'Management', 'Executive', 'Custom')
- schedule_status: ENUM('Draft', 'Active', 'Paused', 'Completed', 'Cancelled', 'Failed', 'Expired')
- priority: ENUM('Low', 'Medium', 'High', 'Critical', 'Urgent')
- trigger_event: VARCHAR(200)
- trigger_conditions: JSON (Trigger conditions and criteria)
- schedule_frequency: ENUM('Once', 'Hourly', 'Daily', 'Weekly', 'Bi-Weekly', 'Monthly', 'Quarterly', 'Semi-Annual', 'Annual', 'Custom')
- next_run_date: TIMESTAMP
- last_run_date: TIMESTAMP
- run_count: INTEGER (Default: 0)
- max_runs: INTEGER (Default: 0)
- success_rate: DECIMAL(5,2) (Default: 0.00)
- notification_sent: BOOLEAN (Default: FALSE)
- notification_channels: JSON (Notification channels and preferences)
- retry_count: INTEGER (Default: 0)
- max_retries: INTEGER (Default: 3)
- retry_delay_minutes: INTEGER (Default: 5)
- escalation_sent: BOOLEAN (Default: FALSE)
- escalation_level: INTEGER (Default: 0)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_training_report_schedule_company_code (company_id, schedule_code)
- INDEX idx_company_id (company_id)
- INDEX idx_report_id (report_id)
- INDEX idx_schedule_type (schedule_type)
- INDEX idx_schedule_category (schedule_category)
- INDEX idx_schedule_status (schedule_status)
- INDEX idx_priority (priority)
- INDEX idx_next_run_date (next_run_date)
- INDEX idx_last_run_date (last_run_date)
- INDEX idx_run_count (run_count)
- INDEX idx_max_runs (max_runs)
- INDEX idx_success_rate (success_rate)
- idx_retry_count (retry_count)
- INDEX idx_max_retries (max_retries)
- INDEX idx_escalation_level (escalation_level)

Constraints:
- fk_training_report_schedule_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_report_schedule_report FOREIGN KEY (report_id) REFERENCES training_report(id)
- fk_training_report_schedule_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_run_count_positive CHECK (run_count >= 0 AND max_runs >= 0)
- chk_retry_count_positive CHECK (retry_count >= 0 AND max_retries >= 0)
- chk_success_rate_range CHECK (success_rate BETWEEN 0 AND 100)
- chk_retry_delay_positive CHECK (retry_delay_minutes >= 0)
- chk_escalation_level_positive CHECK (escalation_level >= 0)
```

## 6.6.6 Training Report Distribution Schema

```
Table: training_report_distribution
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- report_id: UUID (Foreign Key to training_report)
- distribution_code: VARCHAR(50) (Required, Unique, Indexed)
- distribution_type: ENUM('Email', 'Dashboard', 'PDF', 'Excel', 'PowerPoint', 'Web Dashboard', 'API Integration', 'Print', 'FTP', 'SharePoint', 'Slack', 'Teams')
- distribution_status: ENUM('Pending', 'In Progress', 'Completed', 'Failed', 'Cancelled', 'Retried', 'Expired')
- priority: ENUM('Low', 'Medium', 'High', 'Critical', 'Urgent')
- recipient_type: ENUM('Individual', 'Group', 'Department', 'Management', 'Executive', 'Board', 'External', 'Vendor', 'Custom')
- recipient_id: UUID (Foreign Key to employee)
- recipient_email: VARCHAR(255)
- recipient_name: VARCHAR(200)
- recipient_role: VARCHAR(100)
- recipient_department: VARCHAR(100)
- distribution_date: DATE (Required)
- distribution_time: TIME (Required)
- sent_time: TIMESTAMP
- delivery_time: TIMESTAMP
- read_time: TIMESTAMP
- acknowledged_time: TIMESTAMP)
- open_count: INTEGER (Default: 0)
- click_count: INTEGER (Default: 0)
- download_count: INTEGER (Default: 0)
- share_count: INTEGER (Default: 0)
- response_count: INTEGER (Default: 0)
- feedback_provided: BOOLEAN (Default: FALSE)
- feedback_rating: DECIMAL(3,2) (Default: 0.00)
- feedback_comments: TEXT
- delivery_method: ENUM('Email', 'SMS', 'Push Notification', 'Portal Alert', 'Manager Notification', 'HR Notification')
- delivery_status: ENUM('Pending', 'Sent', 'Delivered', 'Failed', 'Bounced', 'Read', 'Acknowledged', 'Action Required')
- error_details: JSON (Error details and troubleshooting information)
- retry_count: INTEGER (Default: 0)
- max_retries: INTEGER (Default: 3)
- retry_delay_minutes: INTEGER (Default: 5)
- escalation_sent: BOOLEAN (Default: FALSE)
- escalation_level: INTEGER (Default: 0)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_training_report_distribution_company_code (company_id, distribution_code)
- INDEX idx_company_id (company_id)
- INDEX idx_report_id (report_id)
- INDEX idx_distribution_type (distribution_type)
- idx_recipient_type (recipient_type)
- INDEX idx_recipient_id (recipient_id)
- INDEX idx_recipient_email (recipient_email)
- INDEX idx_distribution_date (distribution_date)
- INDEX idx_distribution_time (distribution_time)
- idx_sent_time (sent_time)
- INDEX idx_delivery_time (delivery_time)
- INDEX idx_read_time (read_time)
- INDEX idx_acknowledged_time (acknowledged_time)
- idx_open_count (open_count)
- INDEX idx_click_count (click_count)
- INDEX idx_download_count (download_count)
- INDEX idx_share_count (share_count)
- INDEX idx_response_count (response_count)
- idx_feedback_provided (feedback_provided)
- INDEX idx_feedback_rating (feedback_rating)
- INDEX idx_delivery_method (delivery_method)
- INDEX idx_delivery_status (delivery_status)
- INDEX idx_retry_count (retry_count)
- INDEX idx_max_retries (max_retries)
- INDEX idx_escalation_level (escalation_level)

Constraints:
- fk_training_report_distribution_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_report_distribution_report FOREIGN KEY (report_id) REFERENCES training_report(id)
- fk_training_report_distribution_recipient FOREIGN KEY (recipient_id) REFERENCES employee(id)
- fk_training_report_distribution_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_retry_count_positive CHECK (retry_count >= 0 AND max_retries >= 0)
- chk_retry_delay_positive CHECK (retry_delay_minutes >= 0)
- chk_escalation_level_positive CHECK (escalation_level >= 0)
```

## 6.6.7 Training Report Analytics Schema

```
Table: training_report_analytics
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- team_id: UUID (Foreign Key to team)
- employee_id: UUID (Foreign Key to employee)
- training_report_id: UUID (Foreign Key to training_report)
- analysis_type: ENUM('Enrollment Trends', 'Completion Rates', 'Effectiveness Metrics', 'Cost Analysis', 'Skill Gap Analysis', 'Learning Progress', 'Instructor Performance', 'Budget Utilization', 'ROI Analysis', 'Trend Analysis', 'Predictive Analytics')
- analysis_period: ENUM('Daily', 'Weekly', 'Monthly', 'Quarterly', 'Semi-Annual', 'Annual', 'Custom')
- analysis_date: DATE (Required)
- metric_name: VARCHAR(100) (Required)
- metric_value: DECIMAL(15,2)
- metric_unit: VARCHAR(50)
- benchmark_value: DECIMAL(15,2)
- variance_percentage: DECIMAL(5,2)
- target_value: DECIMAL(15,2)
- achievement_percentage: DECIMAL(5,2)
- total_reports: INTEGER (Default: 0)
- active_reports: INTEGER (Default: 0)
- completed_reports: INTEGER (Default: 0)
- failed_reports: INTEGER (Default: 0)
- cancelled_reports: INTEGER (Default: 0)
- total_enrollments: INTEGER (Default: 0)
- completed_enrollments: INTEGER (Default: 0)
- active_enrollments: INTEGER (Default: 0)
- dropped_enrollments: INTEGER (Default: 0)
- enrollment_rate: DECIMAL(5,2) (Default: 0.00)
- completion_rate: DECIMAL(5,2) (Default: 0.00)
- average_rating: DECIMAL(3,2) (Default: 0.00)
- average_score: DECIMAL(5,2) (Default: 0.00)
- average_satisfaction: DECIMAL(3,2) (Default: 0.00)
- nps_score: DECIMAL(5,2) (Default: 0.00)
- total_training_cost: DECIMAL(15,2) (Default: 0.00)
- cost_per_enrollment: DECIMAL(10,2) (Default: 0.00)
- cost_per_completion: DECIMAL(10,2) (Default: 0.00)
- roi_percentage: DECIMAL(5,2) (Default: 0.00)
- business_impact_score: DECIMAL(5,2) (Default: 0.00)
- skill_improvement_score: DECIMAL(5,2) (Default: 0.00)
- performance_improvement_score: DECIMAL(5,2) (Default: 0.00)
- additional_metrics: JSON (Additional KPIs and breakdowns)
- calculated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_team_id (team_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_training_report_id (training_report_id)
- INDEX idx_analysis_type (analysis_type)
- INDEX idx_analysis_period (analysis_period)
- INDEX idx_analysis_date (analysis_date)
- INDEX idx_metric_name (metric_name)

Constraints:
- fk_training_report_analytics_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_report_analytics_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_training_report_analytics_team FOREIGN KEY (team_id) REFERENCES team(id)
- fk_training_report_analytics_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_training_report_analytics_report FOREIGN KEY (training_report_id) REFERENCES training_report(id)
- fk_training_report_analytics_calculated_by FOREIGN KEY (calculated_by_user_id) REFERENCES user(id)
- chk_positive_counts CHECK (total_reports >= 0 AND active_reports >= 0 AND completed_reports >= 0 AND failed_reports >= 0 AND cancelled_reports >= 0)
- chk_positive_enrollments CHECK (total_enrollments >= 0 AND active_enrollments >= 0 AND completed_enrollments >= 0 AND dropped_enrollments >= 0)
- chk_percentage_ranges CHECK (enrollment_rate BETWEEN 0 AND 100 AND completion_rate BETWEEN 0 AND 100 AND achievement_percentage BETWEEN 0 AND 100)
- chk_rating_ranges CHECK (average_rating BETWEEN 0 AND 5 AND average_satisfaction BETWEEN 0 AND 5)
- chk_score_range CHECK (average_score BETWEEN 0 AND 100)
- chk_cost_positive CHECK (total_training_cost >= 0 AND cost_per_enrollment >= 0 AND cost_per_completion >= 0)
- chk_roi_range CHECK (roi_percentage BETWEEN -100 AND 1000)
- chk_impact_ranges CHECK (business_impact_score BETWEEN 0 AND 100 AND skill_improvement_score BETWEEN 0 AND 100 AND performance_improvement_score BETWEEN 0 AND 100)
```

## 6.6.8 Training Report Template Schema

```
Table: training_report_template
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- template_code: VARCHAR(50) (Required, Indexed)
- template_name: VARCHAR(200) (Required)
- template_type: ENUM('Standard', 'Executive Summary', 'Detailed Analysis', 'Comparative', 'Trend Analysis', 'Predictive Insights', 'Custom')
- template_category: ENUM('Training', 'Learning', 'Compliance', 'Financial', 'Strategic', 'Department', 'Team', 'Individual')
- template_description: TEXT (Required)
- template_objectives: JSON (Template objectives and goals)
- target_audience: JSON (Target audience and use cases)
- content_sections: JSON (Template sections and structure)
- layout_design: JSON (Layout design and styling)
- visualization_types: JSON (Supported visualization types)
- color_scheme: JSON (Color scheme and styling)
- font_preferences: JSON (Font preferences and typography)
- branding_guidelines: JSON (Branding guidelines and standards)
- header_elements: JSON (Header elements and components)
- footer_elements: JSON (Footer elements and components)
- data_fields: JSON (Data fields and mappings)
- calculations: JSON (Calculations and formulas)
- filters: JSON (Available filters and options)
- sorting_options: JSON (Available sorting options)
- export_formats: JSON (Available export formats)
- integration_points: JSON (Integration points and APIs)
- custom_css: JSON (Custom CSS styles)
- custom_javascript: JSON (Custom JavaScript functions)
- accessibility_features: JSON (Accessibility features and compliance)
- multilingual_support: BOOLEAN (Default: FALSE)
- supported_languages: JSON (Array of supported language codes)
- template_status: ENUM('Draft', 'Active', 'Deprecated', 'Archived', 'Deleted')
- is_default: BOOLEAN (Default: FALSE)
- is_public: BOOLEAN (Default: TRUE)
- usage_count: INTEGER (Default: 0)
- rating: DECIMAL(3,2) (Default: 0.00)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_training_report_template_company_code (company_id, template_code)
- INDEX idx_company_id (company_id)
- INDEX idx_template_type (template_type)
- INDEX idx_template_category (template_category)
- idx_template_status (template_status)
- idx_is_default (is_default)
- idx_is_public (is_public)
- INDEX idx_usage_count (usage_count)
- INDEX idx_rating (rating)

Constraints:
- fk_training_report_template_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_report_template_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_rating_range CHECK (rating BETWEEN 0 AND 5)
- chk_usage_positive CHECK (usage_count >= 0)
```

## 6.6.9 Training Report Subscription Schema

```
Table: training_report_subscription
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- subscription_code: VARCHAR(50) (Required, Unique, Indexed)
- subscription_name: VARCHAR(200) (Required)
- subscription_type: ENUM('Individual', 'Group', 'Department', 'Management', 'Executive', 'Board', 'External', 'Vendor', 'API Integration', 'Custom')
- subscription_category: ENUM('Training Reports', 'Learning Analytics', 'Compliance Reports', 'Financial Reports', 'Strategic Analytics', 'Custom')
- subscription_description: TEXT (Required)
- subscription_objectives: JSON (Subscription objectives and goals)
- target_audience: JSON (Target audience and users)
- delivery_methods: JSON (Allowed delivery methods)
- report_types: JSON (Available report types and frequencies)
- notification_preferences: JSON (Notification preferences and settings)
- access_permissions: JSON (Access permissions and restrictions)
- cost_model: ENUM('Free', 'Subscription', 'Per Report', 'Usage-Based', 'License-Based', 'Custom')
- subscription_fee: DECIMAL(10,2) (Default: 0.00)
- currency: VARCHAR(3) (Default: 'USD')
- billing_cycle: ENUM('Monthly', 'Quarterly', 'Semi-Annual', 'Annual', 'Custom')
- trial_period_days: INTEGER (Default: 30)
- auto_renewal: BOOLEAN (Default: FALSE)
- grace_period_days: INTEGER (Default: 0)
- max_reports_per_period: INTEGER (Default: 0)
- data_retention_days: INTEGER (Default: 2555)
- export_included: BOOLEAN (Default: TRUE)
- api_access: BOOLEAN (Default: FALSE)
- api_rate_limit: INTEGER (Default: 1000)
- integration_capabilities: JSON (Integration capabilities and APIs)
- custom_integrations: JSON (Custom integrations and connections)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_training_report_subscription_company_code (company_id, subscription_code)
- INDEX idx_company_id (company_id)
- INDEX idx_subscription_type (subscription_type)
- INDEX idx_subscription_category (subscription_category)
- idx_cost_model (cost_model)
- idx_billing_cycle (billing_cycle)
- idx_trial_period_days (trial_period_days)
- idx_auto_renewal (auto_renewal)
- idx_grace_period_days (grace_period_days)
- idx_max_reports_per_period (max_reports_per_period)
- idx_data_retention_days (data_retention_days)
- idx_export_included (export_included)
- idx_api_access (api_access)
- idx_api_rate_limit (api_rate_limit)
- created_by_user_id (created_by_user_id)

Constraints:
- fk_training_report_subscription_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_report_subscription_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_trial_period_positive CHECK (trial_period_days >= 0)
- chk_grace_period_positive CHECK (grace_period_days >= 0)
- chk_max_reports_positive CHECK (max_reports_per_period >= 0)
- chk_data_retention_positive CHECK (data_retention_days >= 0)
- chk_api_rate_limit_positive CHECK (api_rate_limit >= 0)
```

## 6.6.10 Training Report Communication Schema

```
Table: training_report_communication
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- employee_id: UUID (Foreign Key to employee)
- communication_type: ENUM('Report Available', 'Report Ready', 'Report Delivered', 'Report Overdue', 'Report Failed', 'Reminder', 'Summary Alert', 'Analytics Update', 'Performance Alert')
- communication_title: VARCHAR(200) (Required)
- communication_purpose: TEXT
- delivery_method: ENUM('Email', 'SMS', 'Push Notification', 'Portal Alert', 'Manager Notification', 'HR Notification')
- communication_status: ENUM('Draft', 'Scheduled', 'Sent', 'Delivered', 'Failed', 'Read', 'Acknowledged', 'Action Required')
- training_report_id: UUID (Foreign Key to training_report)
- scheduled_time: TIMESTAMP
- sent_time: TIMESTAMP
- delivery_time: TIMESTAMP
- read_time: TIMESTAMP
- acknowledged_time: TIMESTAMP
- content_type: ENUM('Text', 'HTML', 'PDF', 'Excel', 'PowerPoint', 'Link', 'Interactive', 'Video')
- content_summary: TEXT
- content_details: JSON (Full communication content)
- priority: ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')
- requires_action: BOOLEAN (Default: FALSE)
- action_deadline: DATE
- action_completed: BOOLEAN (Default: FALSE)
- action_completion_date: DATE
- template_used: VARCHAR(200)
- personalization_data: JSON (Personalization variables and values)
- escalation_sent: BOOLEAN (Default: FALSE)
- escalation_level: INTEGER (Default: 0)
- response_tracking: JSON (Response tracking and analytics)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_communication_type (communication_type)
- INDEX idx_delivery_method (delivery_method)
- idx_communication_status (communication_status)
- idx_training_report_id (training_report_id)
- idx_scheduled_time (scheduled_time)
- idx_sent_time (sent_time)
- idx_delivery_time (delivery_time)
- idx_read_time (read_time)
- idx_acknowledged_time (acknowledged_time)
- idx_content_type (content_type)
- idx_priority (priority)
- idx_requires_action (requires_action)
- idx_action_deadline (action_deadline)
- INDEX idx_created_by_user_id (created_by_user_id)

Constraints:
- fk_training_communication_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_communication_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_training_communication_report FOREIGN KEY (training_report_id) REFERENCES training_report(id)
- fk_training_communication_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
```

## 6.6.11 Training Report Archive Schema

```
Table: training_report_archive
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- training_report_id: UUID (Foreign Key to training_report)
- archive_code: VARCHAR(50) (Required, Unique, Indexed)
- archive_name: VARCHAR(200) (Required)
- archive_type: ENUM('Scheduled Archive', 'Manual Archive', 'System Archive', 'Compliance Archive', 'Data Retention', 'Legal Hold')
- archive_reason: TEXT
- archive_date: DATE (Required)
- original_file_path: VARCHAR(500)
- archived_file_path: VARCHAR(500)
- file_size: INTEGER (Default: 0)
- compression_method: ENUM('None', 'ZIP', 'RAR', '7Z', 'TAR.GZ')
- checksum: VARCHAR(64)
- archive_format: ENUM('PDF', 'Excel', 'PowerPoint', 'HTML', 'JSON', 'CSV', 'XML')
- metadata_preserved: BOOLEAN (Default: TRUE)
- access_permissions: JSON (Access permissions and restrictions)
- retention_period_days: INTEGER (Default: 2555)
- deletion_date: DATE
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_training_report_archive_company_code (company_id, archive_code)
- INDEX idx_company_id (company_id)
- INDEX idx_training_report_id (training_report_id)
- idx_archive_type (archive_type)
- idx_archive_date (archive_date)
- idx_original_file_path (original_file_path)
- idx_archived_file_path (archived_file_path)
- INDEX idx_file_size (file_size)
- INDEX idx_compression_method (compression_method)
- idx_checksum (checksum)
- INDEX idx_archive_format (archive_format)
- idx_metadata_preserved (metadata_preserved)
- idx_access_permissions (access_permissions)
- idx_retention_period_days (retention_period_days)
- INDEX idx_deletion_date (deletion_date)

Constraints:
- fk_training_report_archive_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_training_report_archive_report FOREIGN KEY (training_report_id) REFERENCES training_report(id)
- fk_training_report_archive_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_file_size_positive CHECK (file_size >= 0)
- chk_retention_period_positive CHECK (retention_period_days >= 0)
- chk_deletion_order CHECK (deletion_date IS NULL OR deletion_date >= archive_date)
