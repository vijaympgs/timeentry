## 10.2 Clearance Process

## 10.2.1 Business Purpose

Clearance Process management provides a systematic framework for managing employee separation activities, ensuring proper asset recovery, access revocation, knowledge transfer, and compliance with organizational policies. This enables streamlined offboarding workflows, risk mitigation, audit trails, and smooth transitions while protecting company assets, data security, and intellectual property.

## 10.2.2 Business Scope

Enable comprehensive clearance process management including task assignment, progress tracking, multi-department coordination, asset recovery, access revocation, knowledge transfer documentation, final approvals, and compliance verification. The system supports automated workflows, notifications, escalation management, audit trails, and analytics while ensuring alignment with organizational policies, legal requirements, and security standards.

## 10.2.3 Clearance Template Master Schema

```
Table: clearance_template
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- template_name: VARCHAR(200) (Required)
- template_code: VARCHAR(50) (Required, Unique, Indexed)
- template_version: INTEGER (Default: 1)
- employee_category: ENUM('Executive', 'Management', 'Professional', 'Technical', 'Administrative', 'Operational', 'Contract', 'Intern')
- separation_type: ENUM('Resignation', 'Termination', 'Retirement', 'Contract End', 'Layoff', 'Mutual Agreement')
- urgency_level: ENUM('Standard', 'High', 'Critical', 'Immediate')
- clearance_period_days: INTEGER (Required)
- auto_assign_tasks: BOOLEAN (Default: TRUE)
- require_all_approvals: BOOLEAN (Default: TRUE)
- allow_parallel_tasks: BOOLEAN (Default: FALSE)
- notification_schedule: JSON (Automated notification rules)
- escalation_rules: JSON (Escalation conditions and actions)
- is_active: BOOLEAN (Default: TRUE)
- is_deleted: BOOLEAN (Default: FALSE)
- deleted_at: TIMESTAMP
- effective_date: DATE (Required)
- expiry_date: DATE
- description: TEXT
- template_instructions: TEXT
- version_notes: TEXT
- change_reason: TEXT
- created_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_template_code_company_version (template_code, company_id, template_version)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_category (employee_category)
- INDEX idx_separation_type (separation_type)
- INDEX idx_urgency_level (urgency_level)
- INDEX idx_is_active (is_active)
- INDEX idx_is_deleted (is_deleted)
- INDEX idx_effective_date (effective_date)
- INDEX idx_template_version (template_version)

Constraints:
- fk_clearance_template_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_clearance_template_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_clearance_template_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- chk_clearance_period_positive CHECK (clearance_period_days > 0)
- chk_version_positive CHECK (template_version > 0)
```

## 10.2.4 Clearance Task Master Schema

```
Table: clearance_task
Fields:
- id: UUID (Primary Key)
- template_id: UUID (Foreign Key to clearance_template)
- task_name: VARCHAR(200) (Required)
- task_code: VARCHAR(50) (Required, Indexed)
- task_category: ENUM('Asset Recovery', 'Access Revocation', 'Knowledge Transfer', 'Document Return', 'System Access', 'Financial Clearance', 'Compliance', 'Administrative')
- responsible_department: ENUM('IT', 'HR', 'Finance', 'Administration', 'Security', 'Legal', 'Facilities', 'Manager')
- task_description: TEXT (Required)
- task_instructions: TEXT
- task_instructions_localized: JSON (Localized instructions by language)
- estimated_duration_hours: INTEGER
- task_priority: ENUM('Low', 'Medium', 'High', 'Critical')
- task_sequence: INTEGER (Required)
- is_mandatory: BOOLEAN (Default: TRUE)
- requires_evidence: BOOLEAN (Default: TRUE)
- evidence_types: JSON (Required evidence documents)
- auto_assign_role: VARCHAR(100)
- parallel_execution_allowed: BOOLEAN (Default: FALSE)
- dependent_tasks: JSON (Array of dependent task IDs)
- completion_criteria: TEXT
- failure_impact: TEXT
- compliance_requirements: JSON (Legal and regulatory requirements)
- security_level: ENUM('Low', 'Medium', 'High', 'Critical')
- is_active: BOOLEAN (Default: TRUE)
- is_deleted: BOOLEAN (Default: FALSE)
- deleted_at: TIMESTAMP
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_task_code_template (task_code, template_id)
- INDEX idx_template_id (template_id)
- INDEX idx_task_category (task_category)
- INDEX idx_responsible_department (responsible_department)
- INDEX idx_task_priority (task_priority)
- INDEX idx_task_sequence (task_sequence)
- INDEX idx_is_active (is_active)
- INDEX idx_is_deleted (is_deleted)
- INDEX idx_security_level (security_level)

Constraints:
- fk_clearance_task_template FOREIGN KEY (template_id) REFERENCES clearance_template(id)
- fk_clearance_task_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_task_sequence_positive CHECK (task_sequence > 0)
- chk_estimated_duration_positive CHECK (estimated_duration_hours > 0)
```

## 10.2.5 Employee Clearance Process Schema

```
Table: employee_clearance_process
Fields:
- id: UUID (Primary Key)
- employee_id: UUID (Foreign Key to employee)
- company_id: UUID (Foreign Key to company)
- template_id: UUID (Foreign Key to clearance_template)
- separation_request_id: UUID (Foreign Key to separation_request)
- clearance_number: VARCHAR(50) (Required, Unique, Indexed)
- clearance_status: ENUM('Initiated', 'In Progress', 'Pending Review', 'Completed', 'On Hold', 'Cancelled', 'Failed')
- initiation_date: DATE (Required)
- target_completion_date: DATE (Required)
- actual_completion_date: DATE
- total_tasks_count: INTEGER
- completed_tasks_count: INTEGER
- pending_tasks_count: INTEGER
- failed_tasks_count: INTEGER
- overall_progress_percentage: DECIMAL(5,2)
- assigned_hr_coordinator_id: UUID (Foreign Key to user)
- reporting_manager_id: UUID (Foreign Key to user)
- emergency_contact_notified: BOOLEAN (Default: FALSE)
- security_clearance_required: BOOLEAN (Default: FALSE)
- exit_interview_completed: BOOLEAN (Default: FALSE)
- final_payroll_processed: BOOLEAN (Default: FALSE)
- benefits_settled: BOOLEAN (Default: FALSE)
- clearance_notes: TEXT
- completion_summary: TEXT
- initiated_by_user_id: UUID (Foreign Key to user)
- completed_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_clearance_number_company (clearance_number, company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_company_id (company_id)
- INDEX idx_template_id (template_id)
- INDEX idx_clearance_status (clearance_status)
- INDEX idx_initiation_date (initiation_date)
- INDEX idx_target_completion_date (target_completion_date)
- INDEX idx_assigned_hr_coordinator (assigned_hr_coordinator_id)

Constraints:
- fk_employee_clearance_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_employee_clearance_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_employee_clearance_template FOREIGN KEY (template_id) REFERENCES clearance_template(id)
- fk_employee_clearance_separation FOREIGN KEY (separation_request_id) REFERENCES separation_request(id)
- fk_employee_clearance_coordinator FOREIGN KEY (assigned_hr_coordinator_id) REFERENCES user(id)
- fk_employee_clearance_manager FOREIGN KEY (reporting_manager_id) REFERENCES user(id)
- fk_employee_clearance_initiated_by FOREIGN KEY (initiated_by_user_id) REFERENCES user(id)
- fk_employee_clearance_completed_by FOREIGN KEY (completed_by_user_id) REFERENCES user(id)
- chk_progress_range CHECK (overall_progress_percentage BETWEEN 0 AND 100)
- chk_task_counts_valid CHECK (total_tasks_count >= completed_tasks_count + pending_tasks_count + failed_tasks_count)
```

## 10.2.6 Clearance Task Assignment Schema

```
Table: clearance_task_assignment
Fields:
- id: UUID (Primary Key)
- clearance_process_id: UUID (Foreign Key to employee_clearance_process)
- task_id: UUID (Foreign Key to clearance_task)
- assignment_number: VARCHAR(50) (Required, Unique, Indexed)
- assigned_to_user_id: UUID (Foreign Key to user)
- assigned_to_role: VARCHAR(100)
- task_status: ENUM('Assigned', 'In Progress', 'Pending Review', 'Completed', 'Failed', 'Escalated', 'Cancelled')
- assignment_date: TIMESTAMP (Auto)
- due_date: TIMESTAMP (Required)
- start_date: TIMESTAMP
- completion_date: TIMESTAMP
- actual_duration_hours: INTEGER
- task_notes: TEXT
- completion_comments: TEXT
- failure_reason: TEXT
- evidence_documents: JSON (Array of document IDs)
- completion_verified_by_user_id: UUID (Foreign Key to user)
- verification_date: TIMESTAMP
- verification_notes: TEXT
- escalation_level: INTEGER (Default: 0)
- escalation_count: INTEGER (Default: 0)
- last_escalation_date: TIMESTAMP
- auto_reminder_sent: BOOLEAN (Default: FALSE)
- reminder_count: INTEGER (Default: 0)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_assignment_number_company (assignment_number, company_id)
- INDEX idx_clearance_process_id (clearance_process_id)
- INDEX idx_task_id (task_id)
- INDEX idx_assigned_to_user (assigned_to_user_id)
- INDEX idx_task_status (task_status)
- INDEX idx_assignment_date (assignment_date)
- INDEX idx_due_date (due_date)
- INDEX idx_completion_date (completion_date)
- INDEX idx_escalation_level (escalation_level)

Constraints:
- fk_task_assignment_clearance FOREIGN KEY (clearance_process_id) REFERENCES employee_clearance_process(id)
- fk_task_assignment_task FOREIGN KEY (task_id) REFERENCES clearance_task(id)
- fk_task_assignment_assigned_to FOREIGN KEY (assigned_to_user_id) REFERENCES user(id)
- fk_task_assignment_verified_by FOREIGN KEY (completion_verified_by_user_id) REFERENCES user(id)
- fk_task_assignment_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_due_date_future CHECK (due_date >= assignment_date)
- chk_escalation_level_valid CHECK (escalation_level >= 0)
```

## 10.2.7 Asset Recovery Tracking Schema

```
Table: asset_recovery_tracking
Fields:
- id: UUID (Primary Key)
- clearance_process_id: UUID (Foreign Key to employee_clearance_process)
- task_assignment_id: UUID (Foreign Key to clearance_task_assignment)
- asset_category: ENUM('IT Equipment', 'Mobile Devices', 'Access Cards', 'Documents', 'Keys', 'Uniforms', 'Tools', 'Vehicles', 'Other')
- asset_type: VARCHAR(100) (Required)
- asset_description: TEXT (Required)
- asset_tag_number: VARCHAR(100)
- serial_number: VARCHAR(100)
- assigned_date: DATE
- expected_return_date: DATE
- actual_return_date: DATE
- return_condition: ENUM('Excellent', 'Good', 'Fair', 'Poor', 'Damaged', 'Lost', 'Not Returned')
- damage_assessment: TEXT
- repair_cost: DECIMAL(10,2)
- replacement_cost: DECIMAL(10,2)
- recovery_status: ENUM('Pending', 'Returned', 'Damaged', 'Lost', 'Written Off', 'Charged to Employee')
- recovery_location: VARCHAR(200)
- received_by_user_id: UUID (Foreign Key to user)
- witness_user_id: UUID (Foreign Key to user)
- recovery_notes: TEXT
- evidence_photos: JSON (Array of photo document IDs)
- employee_charge_amount: DECIMAL(10,2)
- charge_approved: BOOLEAN (Default: FALSE)
- charge_approved_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_clearance_process_id (clearance_process_id)
- INDEX idx_task_assignment_id (task_assignment_id)
- INDEX idx_asset_category (asset_category)
- INDEX idx_asset_type (asset_type)
- INDEX idx_asset_tag_number (asset_tag_number)
- INDEX idx_return_condition (return_condition)
- INDEX idx_recovery_status (recovery_status)
- INDEX idx_expected_return_date (expected_return_date)
- INDEX idx_actual_return_date (actual_return_date)

Constraints:
- fk_asset_recovery_clearance FOREIGN KEY (clearance_process_id) REFERENCES employee_clearance_process(id)
- fk_asset_recovery_assignment FOREIGN KEY (task_assignment_id) REFERENCES clearance_task_assignment(id)
- fk_asset_recovery_received_by FOREIGN KEY (received_by_user_id) REFERENCES user(id)
- fk_asset_recovery_witness FOREIGN KEY (witness_user_id) REFERENCES user(id)
- fk_asset_recovery_charge_approved_by FOREIGN KEY (charge_approved_by_user_id) REFERENCES user(id)
- chk_repair_cost_non_negative CHECK (repair_cost >= 0)
- chk_replacement_cost_non_negative CHECK (replacement_cost >= 0)
- chk_employee_charge_non_negative CHECK (employee_charge_amount >= 0)
```

## 10.2.8 System Access Revocation Schema

```
Table: system_access_revocation
Fields:
- id: UUID (Primary Key)
- clearance_process_id: UUID (Foreign Key to employee_clearance_process)
- task_assignment_id: UUID (Foreign Key to clearance_task_assignment)
- system_name: VARCHAR(200) (Required)
- system_category: ENUM('Email', 'ERP', 'CRM', 'HR System', 'Finance System', 'Development', 'Cloud Services', 'VPN', 'Network', 'Applications')
- access_type: ENUM('User Account', 'Admin Access', 'API Access', 'Database Access', 'File Access', 'Remote Access')
- username: VARCHAR(100)
- access_granted_date: DATE
- access_revocation_date: DATE
- revocation_status: ENUM('Pending', 'Completed', 'Failed', 'Partial', 'Escalated', 'Not Required')
- revocation_method: ENUM('Automatic', 'Manual', 'Script', 'Service Desk', 'System Admin')
- data_backup_required: BOOLEAN (Default: FALSE)
- data_backup_completed: BOOLEAN (Default: FALSE)
- data_backup_location: VARCHAR(500)
- email_forwarding_setup: BOOLEAN (Default: FALSE)
- email_forwarding_address: VARCHAR(200)
- access_transfer_required: BOOLEAN (Default: FALSE)
- transfer_to_user_id: UUID (Foreign Key to user)
- revocation_performed_by_user_id: UUID (Foreign Key to user)
- verification_performed_by_user_id: UUID (Foreign Key to user)
- revocation_notes: TEXT
- security_risk_assessment: TEXT
- follow_up_required: BOOLEAN (Default: FALSE)
- follow_up_date: DATE
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_clearance_process_id (clearance_process_id)
- INDEX idx_task_assignment_id (task_assignment_id)
- INDEX idx_system_name (system_name)
- INDEX idx_system_category (system_category)
- INDEX idx_access_type (access_type)
- INDEX idx_revocation_status (revocation_status)
- INDEX idx_access_revocation_date (access_revocation_date)
- INDEX idx_username (username)

Constraints:
- fk_access_revocation_clearance FOREIGN KEY (clearance_process_id) REFERENCES employee_clearance_process(id)
- fk_access_revocation_assignment FOREIGN KEY (task_assignment_id) REFERENCES clearance_task_assignment(id)
- fk_access_revocation_transfer_to FOREIGN KEY (transfer_to_user_id) REFERENCES user(id)
- fk_access_revocation_performed_by FOREIGN KEY (revocation_performed_by_user_id) REFERENCES user(id)
- fk_access_revocation_verified_by FOREIGN KEY (verification_performed_by_user_id) REFERENCES user(id)
```

## 10.2.9 Knowledge Transfer Documentation Schema

```
Table: knowledge_transfer_documentation
Fields:
- id: UUID (Primary Key)
- clearance_process_id: UUID (Foreign Key to employee_clearance_process)
- task_assignment_id: UUID (Foreign Key to clearance_task_assignment)
- knowledge_category: ENUM('Process Documentation', 'Technical Knowledge', 'Client Relationships', 'Project Information', 'System Knowledge', 'Contacts', 'Procedures', 'Best Practices')
- knowledge_title: VARCHAR(200) (Required)
- knowledge_description: TEXT (Required)
- transfer_method: ENUM('Documentation', 'Handover Meeting', 'Training Session', 'Shadow Period', 'Video Recording', 'Knowledge Base')
- transfer_status: ENUM('Pending', 'In Progress', 'Completed', 'Failed', 'Not Applicable')
- transfer_to_user_id: UUID (Foreign Key to user)
- transfer_to_department: VARCHAR(100)
- transfer_date: DATE
- documentation_location: VARCHAR(500)
- document_ids: JSON (Array of document IDs)
- knowledge_criticality: ENUM('Low', 'Medium', 'High', 'Critical')
- business_impact: TEXT
- verification_required: BOOLEAN (Default: TRUE)
- verification_date: DATE
- verified_by_user_id: UUID (Foreign Key to user)
- verification_status: ENUM('Pending', 'Verified', 'Incomplete', 'Failed')
- verification_notes: TEXT
- follow_up_required: BOOLEAN (Default: FALSE)
- follow_up_date: DATE
- transfer_notes: TEXT
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_clearance_process_id (clearance_process_id)
- INDEX idx_task_assignment_id (task_assignment_id)
- INDEX idx_knowledge_category (knowledge_category)
- INDEX idx_transfer_status (transfer_status)
- INDEX idx_transfer_to_user (transfer_to_user_id)
- INDEX idx_knowledge_criticality (knowledge_criticality)
- INDEX idx_transfer_date (transfer_date)
- INDEX idx_verification_status (verification_status)

Constraints:
- fk_knowledge_transfer_clearance FOREIGN KEY (clearance_process_id) REFERENCES employee_clearance_process(id)
- fk_knowledge_transfer_assignment FOREIGN KEY (task_assignment_id) REFERENCES clearance_task_assignment(id)
- fk_knowledge_transfer_to_user FOREIGN KEY (transfer_to_user_id) REFERENCES user(id)
- fk_knowledge_transfer_verified_by FOREIGN KEY (verified_by_user_id) REFERENCES user(id)
- fk_knowledge_transfer_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
```

## 10.2.10 Clearance Process Analytics Schema

```
Table: clearance_process_analytics
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- analysis_period: ENUM('Monthly', 'Quarterly', 'Semi-Annual', 'Annual')
- analysis_date: DATE (Required)
- total_clearance_processes: INTEGER
- completed_clearance_processes: INTEGER
- average_clearance_duration_days: DECIMAL(5,2)
- on_time_completion_percentage: DECIMAL(5,2)
- overdue_clearance_count: INTEGER
- task_completion_rate: DECIMAL(5,2)
- asset_recovery_rate: DECIMAL(5,2)
- access_revocation_rate: DECIMAL(5,2)
- knowledge_transfer_completion_rate: DECIMAL(5,2)
- escalation_rate: DECIMAL(5,2)
- employee_satisfaction_score: DECIMAL(3,2)
- manager_satisfaction_score: DECIMAL(3,2)
- compliance_score: DECIMAL(5,2)
- risk_incidents_count: INTEGER
- cost_per_clearance: DECIMAL(10,2)
- bottleneck_tasks: JSON (Tasks causing delays)
- improvement_opportunities: JSON (Areas for process improvement)
- additional_metrics: JSON (Other KPIs and breakdowns)
- calculated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_analysis_period (analysis_period)
- INDEX idx_analysis_date (analysis_date)

Constraints:
- fk_clearance_analytics_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_clearance_analytics_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_clearance_analytics_calculated_by FOREIGN KEY (calculated_by_user_id) REFERENCES user(id)
- chk_completion_rate_range CHECK (task_completion_rate BETWEEN 0 AND 100)
- chk_satisfaction_score_range CHECK (employee_satisfaction_score BETWEEN 0 AND 5 AND manager_satisfaction_score BETWEEN 0 AND 5)
```

## 10.2.11 Clearance Governance & Access Control Schema

```
Table: clearance_role_permission
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- role_name: VARCHAR(100) (Required, Unique, Indexed)
- role_description: TEXT
- role_type: ENUM('SYSTEM_ADMIN', 'HR_ADMIN', 'HR_MANAGER', 'CLEARANCE_COORDINATOR', 'DEPARTMENT_HEAD', 'TASK_ASSIGNEE', 'VIEWER', 'AUDITOR')
- can_create_templates: BOOLEAN (Default: FALSE)
- can_edit_templates: BOOLEAN (Default: FALSE)
- can_delete_templates: BOOLEAN (Default: FALSE)
- can_initiate_clearance: BOOLEAN (Default: FALSE)
- can_assign_tasks: BOOLEAN (Default: FALSE)
- can_complete_tasks: BOOLEAN (Default: FALSE)
- can_verify_tasks: BOOLEAN (Default: FALSE)
- can_manage_assets: BOOLEAN (Default: FALSE)
- can_revoke_access: BOOLEAN (Default: FALSE)
- can_view_analytics: BOOLEAN (Default: FALSE)
- can_export_reports: BOOLEAN (Default: FALSE)
- can_manage_compliance: BOOLEAN (Default: FALSE)
- can_view_audit_logs: BOOLEAN (Default: FALSE)
- can_escalate_tasks: BOOLEAN (Default: FALSE)
- data_access_level: ENUM('ALL', 'DEPARTMENT', 'OWN', 'NONE')
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_role_name_company (role_name, company_id)
- INDEX idx_company_id (company_id)
- INDEX idx_role_type (role_type)
- INDEX idx_is_active (is_active)
- INDEX idx_data_access_level (data_access_level)

Constraints:
- fk_clearance_role_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_clearance_role_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
```

```
Table: clearance_user_role_assignment
Fields:
- id: UUID (Primary Key)
- user_id: UUID (Foreign Key to user)
- role_id: UUID (Foreign Key to clearance_role_permission)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- assigned_by_user_id: UUID (Foreign Key to user)
- assigned_date: TIMESTAMP (Auto)
- expiry_date: DATE
- is_active: BOOLEAN (Default: TRUE)
- assignment_notes: TEXT
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_user_role_company (user_id, role_id, company_id)
- INDEX idx_user_id (user_id)
- INDEX idx_role_id (role_id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_is_active (is_active)
- INDEX idx_expiry_date (expiry_date)

Constraints:
- fk_clearance_user_role_user FOREIGN KEY (user_id) REFERENCES user(id)
- fk_clearance_user_role_role FOREIGN KEY (role_id) REFERENCES clearance_role_permission(id)
- fk_clearance_user_role_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_clearance_user_role_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_clearance_user_role_assigned_by FOREIGN KEY (assigned_by_user_id) REFERENCES user(id)
```

```
Table: clearance_compliance_management
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- clearance_process_id: UUID (Foreign Key to employee_clearance_process)
- compliance_type: ENUM('Legal Requirements', 'Data Privacy', 'Security Policy', 'Asset Recovery', 'Access Revocation', 'Documentation', 'Timeline', 'Financial')
- compliance_requirement: VARCHAR(200) (Required)
- jurisdiction: VARCHAR(100) (Required)
- compliance_standard: VARCHAR(200) (Required)
- check_status: ENUM('Compliant', 'Non-Compliant', 'Requires Action', 'Exemption', 'Pending Review')
- risk_level: ENUM('Low', 'Medium', 'High', 'Critical')
- compliance_score: DECIMAL(5,2)
- violation_details: TEXT
- corrective_action_required: TEXT
- corrective_action_deadline: DATE
- corrective_action_status: ENUM('Not Started', 'In Progress', 'Completed', 'Overdue')
- exemption_approved: BOOLEAN (Default: FALSE)
- exemption_reason: TEXT
- exemption_approved_by_user_id: UUID (Foreign Key to user)
- exemption_approved_at: TIMESTAMP
- supporting_documents: JSON (Array of document IDs)
- checked_by_user_id: UUID (Foreign Key to user)
- next_review_date: DATE
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_clearance_process_id (clearance_process_id)
- INDEX idx_compliance_type (compliance_type)
- INDEX idx_jurisdiction (jurisdiction)
- INDEX idx_check_status (check_status)
- INDEX idx_risk_level (risk_level)
- INDEX idx_corrective_action_deadline (corrective_action_deadline)

Constraints:
- fk_clearance_compliance_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_clearance_compliance_process FOREIGN KEY (clearance_process_id) REFERENCES employee_clearance_process(id)
- fk_clearance_compliance_exemption_approved_by FOREIGN KEY (exemption_approved_by_user_id) REFERENCES user(id)
- fk_clearance_compliance_checked_by FOREIGN KEY (checked_by_user_id) REFERENCES user(id)
- chk_compliance_score_range CHECK (compliance_score BETWEEN 0 AND 100)
```

## 10.2.12 Clearance Integration & Performance Schema

```
Table: clearance_integration_config
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- integration_name: VARCHAR(200) (Required)
- integration_type: ENUM('ASSET_MANAGEMENT', 'IT_SYSTEMS', 'HR_SYSTEM', 'FINANCE_SYSTEM', 'NOTIFICATION', 'DOCUMENT_MANAGEMENT', 'EMAIL', 'API_WEBHOOK')
- system_endpoint: VARCHAR(500) (Required)
- authentication_method: ENUM('API_KEY', 'OAUTH2', 'BASIC_AUTH', 'CERTIFICATE')
- authentication_config: JSON (Authentication credentials and settings)
- data_mapping: JSON (Field mapping between systems)
- sync_frequency: ENUM('REAL_TIME', 'HOURLY', 'DAILY', 'WEEKLY', 'MANUAL')
- sync_direction: ENUM('BIDIRECTIONAL', 'OUTBOUND', 'INBOUND')
- is_active: BOOLEAN (Default: TRUE)
- last_sync_timestamp: TIMESTAMP
- sync_status: ENUM('SUCCESS', 'FAILED', 'IN_PROGRESS', 'DISABLED')
- error_log: TEXT
- retry_count: INTEGER (Default: 0)
- max_retries: INTEGER (Default: 3)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_integration_type (integration_type)
- INDEX idx_is_active (is_active)
- INDEX idx_sync_status (sync_status)
- INDEX idx_last_sync_timestamp (last_sync_timestamp)

Constraints:
- fk_clearance_integration_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_clearance_integration_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_retry_count_valid CHECK (retry_count >= 0 AND retry_count <= max_retries)
```

```
Table: clearance_performance_metrics
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- metric_date: DATE (Required)
- total_clearance_processes: INTEGER
- average_processing_time_hours: DECIMAL(10,2)
- peak_concurrent_processes: INTEGER
- system_response_time_ms: DECIMAL(10,2)
- database_query_time_ms: DECIMAL(10,2)
- api_response_time_ms: DECIMAL(10,2)
- error_rate_percentage: DECIMAL(5,2)
- timeout_rate_percentage: DECIMAL(5,2)
- user_satisfaction_score: DECIMAL(3,2)
- system_uptime_percentage: DECIMAL(5,2)
- storage_utilization_percentage: DECIMAL(5,2)
- memory_utilization_percentage: DECIMAL(5,2)
- cpu_utilization_percentage: DECIMAL(5,2)
- cache_hit_rate_percentage: DECIMAL(5,2)
- concurrent_user_count: INTEGER
- data_volume_processed_mb: DECIMAL(15,2)
- integration_sync_success_rate: DECIMAL(5,2)
- task_completion_efficiency: DECIMAL(5,2)
- performance_alerts: JSON (Performance warnings and alerts)
- optimization_recommendations: JSON (System optimization suggestions)
- calculated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_metric_date (metric_date)
- INDEX idx_error_rate_percentage (error_rate_percentage)
- INDEX idx_system_response_time (system_response_time_ms)

Constraints:
- fk_clearance_performance_company FOREIGN KEY (company_id) REFERENCES company(id)
- chk_error_rate_range CHECK (error_rate_percentage BETWEEN 0 AND 100)
- chk_satisfaction_score_range CHECK (user_satisfaction_score BETWEEN 1 AND 5)
- chk_utilization_ranges CHECK (system_uptime_percentage BETWEEN 0 AND 100 AND storage_utilization_percentage BETWEEN 0 AND 100 AND memory_utilization_percentage BETWEEN 0 AND 100 AND cpu_utilization_percentage BETWEEN 0 AND 100)
```

```
Table: clearance_audit_log
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- action: ENUM('Create', 'Update', 'Delete', 'Initiate', 'Complete', 'Cancel', 'Escalate', 'Verify', 'Approve', 'Reject', 'Export', 'Access')
- entity_type: ENUM('Clearance Process', 'Template', 'Task', 'Asset Recovery', 'Access Revocation', 'Knowledge Transfer', 'Compliance Check', 'User Role')
- entity_id: UUID
- old_values: JSON (Previous values)
- new_values: JSON (Updated values)
- field_changes: JSON (Specific field changes)
- action_reason: TEXT
- business_justification: TEXT
- impact_assessment: TEXT
- affected_employees: INTEGER (Default: 0)
- data_sensitivity_level: ENUM('Public', 'Internal', 'Confidential', 'Restricted')
- compliance_impact: TEXT
- performed_by_user_id: UUID (Foreign Key to user)
- ip_address: VARCHAR(45)
- user_agent: TEXT
- session_id: VARCHAR(100)
- timestamp: TIMESTAMP (Auto)
- additional_context: JSON (Extra context information)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_action (action)
- INDEX idx_entity_type (entity_type)
- INDEX idx_performed_by (performed_by_user_id)
- INDEX idx_timestamp (timestamp)
- INDEX idx_data_sensitivity_level (data_sensitivity_level)

Constraints:
- fk_clearance_audit_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_clearance_audit_performed_by FOREIGN KEY (performed_by_user_id) REFERENCES user(id)
```

--- END OF SECTION 10.2 ---
