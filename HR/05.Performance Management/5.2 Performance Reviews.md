# 5.2 Performance Reviews

## 5.2.1 Business Purpose

Performance Reviews provides comprehensive management of employee performance evaluation processes, including formal reviews, continuous feedback, and performance documentation. This ensures fair, consistent, and data-driven performance assessments while supporting various review cycles, rating methodologies, and integration with compensation, development, and succession planning systems.

## 5.2.2 Business Scope

Enable complete performance review management including review cycles, evaluation criteria, rating scales, feedback collection, and review workflows. The system supports multiple review types, automated calculations, compliance tracking, and audit trails while ensuring accuracy, transparency, and regulatory compliance across all performance review processes and organizational levels.

## 5.2.3 Review Cycle Master Schema

```
Table: review_cycle
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- cycle_code: VARCHAR(50) (Required, Indexed)
- cycle_name: VARCHAR(200) (Required)
- cycle_type: ENUM('Annual', 'Semi-Annual', 'Quarterly', 'Monthly', 'Project-Based', 'Probation', 'Promotion')
- cycle_category: ENUM('Formal Review', 'Informal Review', '360-Degree', 'Self-Assessment', 'Manager Review', 'Peer Review')
- cycle_description: TEXT
- review_period_start: DATE (Required)
- review_period_end: DATE (Required)
- review_deadline: DATE (Required)
- calibration_deadline: DATE
- finalization_deadline: DATE
- review_frequency: ENUM('One-time', 'Recurring', 'Custom')
- recurrence_pattern: JSON (Recurrence pattern and schedule)
- eligibility_criteria: JSON (Eligibility requirements and conditions)
- exclusion_criteria: JSON (Exclusion rules and conditions)
- rating_scale_id: UUID (Foreign Key to rating_scale)
- review_template_id: UUID (Foreign Key to review_template)
- approval_workflow_id: UUID (Foreign Key to approval_workflow)
- calibration_required: BOOLEAN (Default: TRUE)
- self_assessment_required: BOOLEAN (Default: TRUE)
- manager_review_required: BOOLEAN (Default: TRUE)
- peer_review_enabled: BOOLEAN (Default: FALSE)
- direct_report_review_enabled: BOOLEAN (Default: FALSE)
- client_review_enabled: BOOLEAN (Default: FALSE)
- auto_calculation_enabled: BOOLEAN (Default: FALSE)
- calculation_method: JSON (Performance calculation rules and formulas)
- weight_distribution: JSON (Weight distribution for different review components)
- notification_settings: JSON (Notification preferences and triggers)
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_review_cycle_company_code (company_id, cycle_code)
- INDEX idx_company_id (company_id)
- INDEX idx_cycle_type (cycle_type)
- INDEX idx_cycle_category (cycle_category)
- INDEX idx_review_period_start (review_period_start)
- INDEX idx_review_period_end (review_period_end)
- INDEX idx_review_deadline (review_deadline)
- INDEX idx_rating_scale_id (rating_scale_id)
- INDEX idx_review_template_id (review_template_id)
- INDEX idx_is_active (is_active)

Constraints:
- fk_review_cycle_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_review_cycle_rating_scale FOREIGN KEY (rating_scale_id) REFERENCES rating_scale(id)
- fk_review_cycle_template FOREIGN KEY (review_template_id) REFERENCES review_template(id)
- fk_review_cycle_workflow FOREIGN KEY (approval_workflow_id) REFERENCES approval_workflow(id)
- fk_review_cycle_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_period_order CHECK (review_period_end >= review_period_start)
- chk_deadline_order CHECK (review_deadline >= review_period_end AND calibration_deadline >= review_deadline AND finalization_deadline >= calibration_deadline)
```

## 5.2.4 Rating Scale Schema

```
Table: rating_scale
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- scale_code: VARCHAR(50) (Required, Indexed)
- scale_name: VARCHAR(200) (Required)
- scale_type: ENUM('Numeric', 'Descriptive', 'Hybrid', 'Custom', 'Behavioral', 'Competency-Based')
- scale_description: TEXT
- min_rating: DECIMAL(3,2) (Required)
- max_rating: DECIMAL(3,2) (Required)
- rating_increment: DECIMAL(3,2) (Required)
- rating_levels: JSON (Rating level definitions and descriptions)
- color_scheme: JSON (Color coding for different rating levels)
- performance_descriptors: JSON (Performance descriptors for each rating level)
- behavioral_indicators: JSON (Behavioral indicators for each rating level)
- competency_mapping: JSON (Competency mapping to rating levels)
- calculation_method: ENUM('Average', 'Weighted Average', 'Normalized', 'Custom Formula')
- default_weight: DECIMAL(5,2) (Default: 0.00)
- is_default: BOOLEAN (Default: FALSE)
- is_active: BOOLEAN (Default: TRUE)
- effective_from: DATE (Required)
- effective_to: DATE
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_rating_scale_company_code (company_id, scale_code)
- INDEX idx_company_id (company_id)
- INDEX idx_scale_type (scale_type)
- INDEX idx_min_rating (min_rating)
- INDEX idx_max_rating (max_rating)
- INDEX idx_is_default (is_default)
- INDEX idx_is_active (is_active)
- INDEX idx_effective_from (effective_from)

Constraints:
- fk_rating_scale_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_rating_scale_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_rating_range CHECK (max_rating > min_rating AND rating_increment > 0)
- chk_weight_range CHECK (default_weight BETWEEN 0 AND 100)
```

## 5.2.5 Review Template Schema

```
Table: review_template
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- template_code: VARCHAR(50) (Required, Indexed)
- template_name: VARCHAR(200) (Required)
- template_type: ENUM('Manager Review', 'Self-Assessment', '360-Degree', 'Peer Review', 'Direct Report Review', 'Client Review')
- template_category: ENUM('General', 'Leadership', 'Technical', 'Sales', 'Customer Service', 'Operations', 'Finance', 'HR', 'IT')
- template_description: TEXT
- sections: JSON (Template sections and structure)
- questions: JSON (Review questions and criteria)
- rating_criteria: JSON (Rating criteria and evaluation standards)
- competency_framework_id: UUID (Foreign Key to competency_framework)
- goal_integration: BOOLEAN (Default: TRUE)
- kpi_integration: BOOLEAN (Default: TRUE)
- development_plan_section: BOOLEAN (Default: TRUE)
- strengths_section: BOOLEAN (Default: TRUE)
- improvement_section: BOOLEAN (Default: TRUE)
- achievements_section: BOOLEAN (Default: TRUE)
- challenges_section: BOOLEAN (Default: TRUE)
- future_goals_section: BOOLEAN (Default: TRUE)
- comments_section: BOOLEAN (Default: TRUE)
- signature_required: BOOLEAN (Default: TRUE)
- attachment_allowed: BOOLEAN (Default: TRUE)
- auto_save_enabled: BOOLEAN (Default: TRUE)
- draft_mode_enabled: BOOLEAN (Default: TRUE)
- usage_count: INTEGER (Default: 0)
- average_completion_time: INTEGER (Default: 0)
- average_rating: DECIMAL(3,2) (Default: 0.00)
- is_public: BOOLEAN (Default: TRUE)
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_review_template_company_code (company_id, template_code)
- INDEX idx_company_id (company_id)
- INDEX idx_template_type (template_type)
- INDEX idx_template_category (template_category)
- INDEX idx_competency_framework_id (competency_framework_id)
- INDEX idx_usage_count (usage_count)
- INDEX idx_average_rating (average_rating)
- INDEX idx_is_public (is_public)
- INDEX idx_is_active (is_active)

Constraints:
- fk_review_template_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_review_template_competency_framework FOREIGN KEY (competency_framework_id) REFERENCES competency_framework(id)
- fk_review_template_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_positive_metrics CHECK (usage_count >= 0 AND average_completion_time >= 0)
- chk_rating_range CHECK (average_rating BETWEEN 0 AND 5)
```

## 5.2.6 Performance Review Schema

```
Table: performance_review
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- review_cycle_id: UUID (Foreign Key to review_cycle)
- review_template_id: UUID (Foreign Key to review_template)
- rating_scale_id: UUID (Foreign Key to rating_scale)
- review_number: VARCHAR(50) (Required, Unique, Indexed)
- review_type: ENUM('Manager Review', 'Self-Assessment', '360-Degree', 'Peer Review', 'Direct Report Review', 'Client Review', 'Calibration Review')
- review_status: ENUM('Not Started', 'In Progress', 'Submitted', 'Under Review', 'Calibration', 'Completed', 'Cancelled', 'Overdue')
- priority: ENUM('Low', 'Medium', 'High', 'Critical')
- employee_id: UUID (Foreign Key to employee)
- reviewer_id: UUID (Foreign Key to employee)
- review_period_start: DATE (Required)
- review_period_end: DATE (Required)
- review_date: DATE (Required)
- due_date: DATE (Required)
- submitted_date: TIMESTAMP
- completed_date: TIMESTAMP
- overall_rating: DECIMAL(3,2) (Default: 0.00)
- goal_achievement_rating: DECIMAL(3,2) (Default: 0.00)
- competency_rating: DECIMAL(3,2) (Default: 0.00)
- behavior_rating: DECIMAL(3,2) (Default: 0.00)
- performance_rating: DECIMAL(3,2) (Default: 0.00)
- potential_rating: DECIMAL(3,2) (Default: 0.00)
- section_ratings: JSON (Individual section ratings)
- rating_comments: JSON (Comments for each rating)
- strengths: TEXT
- achievements: TEXT
- areas_for_improvement: TEXT
- development_needs: TEXT
- career_aspirations: TEXT
- goals_for_next_period: TEXT
- recommendations: TEXT
- action_items: JSON (Action items and follow-up tasks)
- attachment_ids: JSON (Array of attachment document IDs)
- draft_data: JSON (Draft review data)
- calibration_status: ENUM('Not Calibrated', 'Calibrated', 'Under Calibration', 'Calibration Required')
- calibration_adjustment: DECIMAL(3,2) (Default: 0.00)
- calibration_comments: TEXT
- final_rating: DECIMAL(3,2) (Default: 0.00)
- employee_acknowledged: BOOLEAN (Default: FALSE)
- acknowledged_date: TIMESTAMP
- employee_comments: TEXT
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_performance_review_number (review_number)
- INDEX idx_company_id (company_id)
- INDEX idx_review_cycle_id (review_cycle_id)
- INDEX idx_review_template_id (review_template_id)
- INDEX idx_rating_scale_id (rating_scale_id)
- INDEX idx_review_type (review_type)
- INDEX idx_review_status (review_status)
- INDEX idx_priority (priority)
- INDEX idx_employee_id (employee_id)
- INDEX idx_reviewer_id (reviewer_id)
- INDEX idx_review_period_start (review_period_start)
- INDEX idx_review_period_end (review_period_end)
- INDEX idx_review_date (review_date)
- INDEX idx_due_date (due_date)
- INDEX idx_overall_rating (overall_rating)
- INDEX idx_final_rating (final_rating)

Constraints:
- fk_performance_review_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_performance_review_cycle FOREIGN KEY (review_cycle_id) REFERENCES review_cycle(id)
- fk_performance_review_template FOREIGN KEY (review_template_id) REFERENCES review_template(id)
- fk_performance_review_rating_scale FOREIGN KEY (rating_scale_id) REFERENCES rating_scale(id)
- fk_performance_review_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_performance_review_reviewer FOREIGN KEY (reviewer_id) REFERENCES employee(id)
- fk_performance_review_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_period_order CHECK (review_period_end >= review_period_start)
- chk_rating_ranges CHECK (overall_rating BETWEEN 0 AND 5 AND goal_achievement_rating BETWEEN 0 AND 5 AND competency_rating BETWEEN 0 AND 5 AND behavior_rating BETWEEN 0 AND 5 AND performance_rating BETWEEN 0 AND 5 AND potential_rating BETWEEN 0 AND 5 AND final_rating BETWEEN 0 AND 5)
```

## 5.2.7 Review Question Schema

```
Table: review_question
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- review_template_id: UUID (Foreign Key to review_template)
- question_category: VARCHAR(100) (Required)
- question_text: TEXT (Required)
- question_type: ENUM('Rating', 'Text', 'Multiple Choice', 'Yes/No', 'Numeric', 'Date', 'File Upload')
- question_description: TEXT
- is_required: BOOLEAN (Default: FALSE)
- display_order: INTEGER (Default: 0)
- rating_scale_id: UUID (Foreign Key to rating_scale)
- min_rating: DECIMAL(3,2)
- max_rating: DECIMAL(3,2)
- default_rating: DECIMAL(3,2) (Default: 0.00)
- options: JSON (Multiple choice options)
- validation_rules: JSON (Validation rules and constraints)
- help_text: TEXT
- example_answer: TEXT
- weight_percentage: DECIMAL(5,2) (Default: 0.00)
- competency_mapping: JSON (Competency mapping)
- goal_mapping: JSON (Goal mapping)
- kpi_mapping: JSON (KPI mapping)
- conditional_logic: JSON (Conditional display logic)
- scoring_method: ENUM('Direct', 'Weighted', 'Normalized', 'Custom')
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_review_template_id (review_template_id)
- INDEX idx_question_category (question_category)
- INDEX idx_question_type (question_type)
- INDEX idx_display_order (display_order)
- INDEX idx_rating_scale_id (rating_scale_id)
- INDEX idx_is_required (is_required)
- INDEX idx_is_active (is_active)

Constraints:
- fk_review_question_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_review_question_template FOREIGN KEY (review_template_id) REFERENCES review_template(id)
- fk_review_question_rating_scale FOREIGN KEY (rating_scale_id) REFERENCES rating_scale(id)
- fk_review_question_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_display_order_positive CHECK (display_order >= 0)
- chk_weight_range CHECK (weight_percentage BETWEEN 0 AND 100)
- chk_rating_range CHECK (min_rating <= max_rating AND default_rating BETWEEN min_rating AND max_rating)
```

## 5.2.8 Review Response Schema

```
Table: review_response
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- performance_review_id: UUID (Foreign Key to performance_review)
- review_question_id: UUID (Foreign Key to review_question)
- response_type: ENUM('Rating', 'Text', 'Multiple Choice', 'Yes/No', 'Numeric', 'Date', 'File Upload')
- rating_value: DECIMAL(3,2) (Default: 0.00)
- text_response: TEXT
- multiple_choice_response: VARCHAR(500)
- yes_no_response: BOOLEAN
- numeric_response: DECIMAL(15,2)
- date_response: DATE
- file_attachment_ids: JSON (Array of file attachment IDs)
- response_comments: TEXT
- confidence_level: ENUM('Very Low', 'Low', 'Medium', 'High', 'Very High')
- evidence_provided: BOOLEAN (Default: FALSE)
- evidence_ids: JSON (Array of evidence document IDs)
- additional_notes: TEXT
- response_status: ENUM('Draft', 'Completed', 'Reviewed', 'Requires Revision')
- word_count: INTEGER (Default: 0)
- character_count: INTEGER (Default: 0)
- completion_time_minutes: INTEGER (Default: 0)
- auto_saved: BOOLEAN (Default: FALSE)
- last_saved_at: TIMESTAMP
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_performance_review_id (performance_review_id)
- INDEX idx_review_question_id (review_question_id)
- INDEX idx_response_type (response_type)
- INDEX idx_rating_value (rating_value)
- INDEX idx_response_status (response_status)
- INDEX idx_confidence_level (confidence_level)
- INDEX idx_created_by_user_id (created_by_user_id)

Constraints:
- fk_review_response_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_review_response_performance_review FOREIGN KEY (performance_review_id) REFERENCES performance_review(id)
- fk_review_response_question FOREIGN KEY (review_question_id) REFERENCES review_question(id)
- fk_review_response_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_positive_metrics CHECK (word_count >= 0 AND character_count >= 0 AND completion_time_minutes >= 0)
- chk_rating_range CHECK (rating_value BETWEEN 0 AND 5)
```

## 5.2.9 Review Calibration Schema

```
Table: review_calibration
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- review_cycle_id: UUID (Foreign Key to review_cycle)
- calibration_session_id: UUID (Foreign Key to calibration_session)
- performance_review_id: UUID (Foreign Key to performance_review)
- employee_id: UUID (Foreign Key to employee)
- original_rating: DECIMAL(3,2) (Default: 0.00)
- calibrated_rating: DECIMAL(3,2) (Default: 0.00)
- rating_adjustment: DECIMAL(3,2) (Default: 0.00)
- adjustment_reason: TEXT (Required)
- adjustment_justification: TEXT
- calibration_comments: TEXT
- calibration_factors: JSON (Factors considered in calibration)
- peer_comparison: JSON (Comparison with peer reviews)
- team_comparison: JSON (Comparison with team reviews)
- department_comparison: JSON (Comparison with department reviews)
- company_comparison: JSON (Comparison with company reviews)
- historical_trend: JSON (Historical performance trend)
- potential_assessment: JSON (Potential and future performance assessment)
- business_impact: JSON (Business impact and contribution)
- special_circumstances: TEXT
- calibration_status: ENUM('Pending', 'In Progress', 'Completed', 'Requires Discussion', 'Escalated')
- calibrator_id: UUID (Foreign Key to employee)
- senior_calibrator_id: UUID (Foreign Key to employee)
- calibration_date: DATE (Required)
- final_approval: BOOLEAN (Default: FALSE)
- approved_by_user_id: UUID (Foreign Key to user)
- approved_at: TIMESTAMP
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_review_cycle_id (review_cycle_id)
- INDEX idx_calibration_session_id (calibration_session_id)
- INDEX idx_performance_review_id (performance_review_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_original_rating (original_rating)
- INDEX idx_calibrated_rating (calibrated_rating)
- INDEX idx_rating_adjustment (rating_adjustment)
- INDEX idx_calibration_status (calibration_status)
- INDEX idx_calibrator_id (calibrator_id)
- INDEX idx_calibration_date (calibration_date)

Constraints:
- fk_review_calibration_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_review_calibration_cycle FOREIGN KEY (review_cycle_id) REFERENCES review_cycle(id)
- fk_review_calibration_session FOREIGN KEY (calibration_session_id) REFERENCES calibration_session(id)
- fk_review_calibration_performance_review FOREIGN KEY (performance_review_id) REFERENCES performance_review(id)
- fk_review_calibration_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_review_calibration_calibrator FOREIGN KEY (calibrator_id) REFERENCES employee(id)
- fk_review_calibration_senior_calibrator FOREIGN KEY (senior_calibrator_id) REFERENCES employee(id)
- fk_review_calibration_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- fk_review_calibration_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_rating_ranges CHECK (original_rating BETWEEN 0 AND 5 AND calibrated_rating BETWEEN 0 AND 5 AND rating_adjustment BETWEEN -5 AND 5)
```

## 5.2.10 Review Analytics Schema

```
Table: review_analytics
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- department_id: UUID (Foreign Key to department)
- team_id: UUID (Foreign Key to team)
- employee_id: UUID (Foreign Key to employee)
- review_cycle_id: UUID (Foreign Key to review_cycle)
- performance_review_id: UUID (Foreign Key to performance_review)
- analysis_type: ENUM('Rating Distribution', 'Completion Rate', 'Calibration Impact', 'Trend Analysis', 'Performance Correlation', 'Predictive Analytics')
- analysis_period: ENUM('Daily', 'Weekly', 'Monthly', 'Quarterly', 'Semi-Annual', 'Annual')
- analysis_date: DATE (Required)
- metric_name: VARCHAR(100) (Required)
- metric_value: DECIMAL(15,2)
- metric_unit: VARCHAR(50)
- benchmark_value: DECIMAL(15,2)
- variance_percentage: DECIMAL(5,2)
- target_value: DECIMAL(15,2)
- achievement_percentage: DECIMAL(5,2)
- total_reviews: INTEGER (Default: 0)
- completed_reviews: INTEGER (Default: 0)
- pending_reviews: INTEGER (Default: 0)
- overdue_reviews: INTEGER (Default: 0)
- completion_rate: DECIMAL(5,2) (Default: 0.00)
- average_rating: DECIMAL(3,2) (Default: 0.00)
- average_completion_time: INTEGER (Default: 0)
- calibration_impact: DECIMAL(5,2) (Default: 0.00)
- satisfaction_score: DECIMAL(3,2) (Default: 0.00)
- engagement_score: DECIMAL(5,2) (Default: 0.00)
- performance_correlation: DECIMAL(5,2) (Default: 0.00)
- additional_metrics: JSON (Additional KPIs and breakdowns)
- calculated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_department_id (department_id)
- INDEX idx_team_id (team_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_review_cycle_id (review_cycle_id)
- INDEX idx_performance_review_id (performance_review_id)
- INDEX idx_analysis_type (analysis_type)
- INDEX idx_analysis_period (analysis_period)
- INDEX idx_analysis_date (analysis_date)
- INDEX idx_metric_name (metric_name)

Constraints:
- fk_review_analytics_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_review_analytics_department FOREIGN KEY (department_id) REFERENCES department(id)
- fk_review_analytics_team FOREIGN KEY (team_id) REFERENCES team(id)
- fk_review_analytics_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_review_analytics_cycle FOREIGN KEY (review_cycle_id) REFERENCES review_cycle(id)
- fk_review_analytics_performance_review FOREIGN KEY (performance_review_id) REFERENCES performance_review(id)
- fk_review_analytics_calculated_by FOREIGN KEY (calculated_by_user_id) REFERENCES user(id)
- chk_completion_rate CHECK (completion_rate BETWEEN 0 AND 100)
- chk_rating_range CHECK (average_rating BETWEEN 0 AND 5)
- chk_score_ranges CHECK (satisfaction_score BETWEEN 0 AND 5 AND engagement_score BETWEEN 0 AND 100 AND performance_correlation BETWEEN -1 AND 1)
```

## 5.2.11 Review Communication Schema

```
Table: review_communication
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- employee_id: UUID (Foreign Key to employee)
- communication_type: ENUM('Review Assignment', 'Review Reminder', 'Review Submission', 'Calibration Notification', 'Review Completion', 'Review Acknowledgment', 'Follow-up Required')
- communication_title: VARCHAR(200) (Required)
- communication_purpose: TEXT
- delivery_method: ENUM('Email', 'SMS', 'Push Notification', 'Portal Alert', 'Manager Notification', 'HR Notification')
- communication_status: ENUM('Draft', 'Scheduled', 'Sent', 'Delivered', 'Failed', 'Read', 'Acknowledged', 'Action Required')
- performance_review_id: UUID (Foreign Key to performance_review)
- review_cycle_id: UUID (Foreign Key to review_cycle)
- scheduled_time: TIMESTAMP
- sent_time: TIMESTAMP
- delivery_time: TIMESTAMP
- read_time: TIMESTAMP
- acknowledged_time: TIMESTAMP
- content_type: ENUM('Text', 'HTML', 'PDF', 'Link', 'Interactive', 'Video')
- content_summary: TEXT
- content_details: JSON (Full communication content)
- priority: ENUM('Low', 'Medium', 'High', 'Urgent', 'Critical')
- requires_action: BOOLEAN (Default: FALSE)
- action_deadline: DATE
- action_completed: BOOLEAN (Default: FALSE)
- action_completion_date: DATE
- template_used: VARCHAR(200)
- personalization_data: JSON (Personalization variables and values)
- escalation_sent: BOOLEAN (Default: FALSE)
- escalation_level: INTEGER (Default: 0)
- response_tracking: JSON (Response tracking and analytics)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_communication_type (communication_type)
- INDEX idx_delivery_method (delivery_method)
- INDEX idx_communication_status (communication_status)
- INDEX idx_performance_review_id (performance_review_id)
- INDEX idx_review_cycle_id (review_cycle_id)
- INDEX idx_scheduled_time (scheduled_time)
- INDEX idx_priority (priority)
- INDEX idx_requires_action (requires_action)
- INDEX idx_action_deadline (action_deadline)

Constraints:
- fk_review_communication_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_review_communication_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- fk_review_communication_performance_review FOREIGN KEY (performance_review_id) REFERENCES performance_review(id)
- fk_review_communication_cycle FOREIGN KEY (review_cycle_id) REFERENCES review_cycle(id)
- fk_review_communication_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
