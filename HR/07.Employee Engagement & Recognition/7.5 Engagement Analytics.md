# 7.5 Engagement Analytics

## 7.5.1 Business Purpose & Scope

The Engagement Analytics module provides advanced analytics and insights capabilities for measuring, analyzing, and optimizing employee engagement across the organization. This system enables data-driven decision making through comprehensive metrics, predictive analytics, trend analysis, and real-time dashboards that help HR leaders understand engagement drivers, identify at-risk employees, and measure the impact of engagement initiatives.

Business Scope includes engagement score calculation and tracking, predictive analytics and risk identification, trend analysis and benchmarking, real-time dashboards and reporting, sentiment analysis integration, ROI measurement for engagement programs, demographic and segment-based analytics, and actionable insights generation for organizational improvement strategies.

## 7.5.2 Engagement Metrics Master Schema

```sql
Table: engagement_metric_definition
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- metric_code: VARCHAR(50) (Required, Unique, Indexed)
- metric_name: VARCHAR(200) (Required)
- metric_category: ENUM('Engagement Score', 'Satisfaction', 'Commitment', 'Advocacy', 'Performance', 'Well-being', 'Retention Risk', 'Productivity')
- metric_type: ENUM('Calculated', 'Survey Based', 'Behavioral', 'Performance Based', 'System Generated')
- calculation_method: ENUM('Weighted Average', 'Simple Average', 'Index', 'Formula', 'Algorithm', 'Machine Learning')
- data_sources: JSON (Data sources and weights)
- calculation_frequency: ENUM('Real-time', 'Hourly', 'Daily', 'Weekly', 'Monthly', 'Quarterly')
- benchmark_type: ENUM('Internal', 'Industry', 'Custom', 'Historical')
- benchmark_value: DECIMAL(10,2)
- target_value: DECIMAL(10,2)
- threshold_critical: DECIMAL(10,2)
- threshold_warning: DECIMAL(10,2)
- scoring_direction: ENUM('Higher Better', 'Lower Better', 'Target Range')
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- updated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_engagement_metric_company_code (company_id, metric_code)
- INDEX idx_company_id (company_id)
- INDEX idx_metric_category (metric_category)
- INDEX idx_metric_type (metric_type)
- INDEX idx_calculation_frequency (calculation_frequency)
- INDEX idx_is_active (is_active)

Constraints:
- fk_engagement_metric_definition_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_metric_definition_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_engagement_metric_definition_updated_by FOREIGN KEY (updated_by_user_id) REFERENCES user(id)
```

```sql
Table: engagement_score_calculation
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- employee_id: UUID (Foreign Key to employee)
- calculation_date: DATE (Required)
- calculation_period: ENUM('Daily', 'Weekly', 'Monthly', 'Quarterly')
- overall_engagement_score: DECIMAL(5,2) (Check: 0.00 TO 5.00)
- engagement_trend: ENUM('Improving', 'Stable', 'Declining', 'Volatile')
- trend_percentage: DECIMAL(5,2) (Default: 0.00)
- risk_level: ENUM('Low', 'Medium', 'High', 'Critical')
- confidence_score: DECIMAL(3,2) (Check: 0.00 TO 1.00)
- data_completeness: DECIMAL(3,2) (Default: 0.00)
- component_scores: JSON (Individual metric scores and weights)
- calculation_details: JSON (Detailed calculation breakdown)
- last_updated: TIMESTAMP (Auto)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_calculation_date (calculation_date)
- INDEX idx_calculation_period (calculation_period)
- INDEX idx_overall_engagement_score (overall_engagement_score)
- INDEX idx_engagement_trend (engagement_trend)
- INDEX idx_risk_level (risk_level)

Constraints:
- fk_engagement_score_calculation_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_score_calculation_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- chk_score_range CHECK (overall_engagement_score BETWEEN 0 AND 5)
- chk_trend_range CHECK (trend_percentage BETWEEN -100 AND 100)
- chk_confidence_range CHECK (confidence_score BETWEEN 0 AND 1)
- chk_completeness_range CHECK (data_completeness BETWEEN 0 AND 1)
```

## 7.5.3 Predictive Analytics Schema

```sql
Table: engagement_prediction_model
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- model_name: VARCHAR(200) (Required)
- model_type: ENUM('Turnover Risk', 'Engagement Decline', 'Performance Risk', 'Flight Risk', 'Burnout Risk')
- algorithm_type: ENUM('Logistic Regression', 'Random Forest', 'Gradient Boosting', 'Neural Network', 'Ensemble')
- model_version: VARCHAR(20) (Required)
- training_data_period_start: DATE (Required)
- training_data_period_end: DATE (Required)
- feature_variables: JSON (Input features and importance)
- model_parameters: JSON (Algorithm-specific parameters)
- accuracy_score: DECIMAL(5,4) (Default: 0.0000)
- precision_score: DECIMAL(5,4) (Default: 0.0000)
- recall_score: DECIMAL(5,4) (Default: 0.0000)
- f1_score: DECIMAL(5,4) (Default: 0.0000)
- auc_score: DECIMAL(5,4) (Default: 0.0000)
- validation_method: ENUM('Cross Validation', 'Holdout', 'Time Series Split')
- is_active: BOOLEAN (Default: TRUE)
- is_production: BOOLEAN (Default: FALSE)
- trained_at: TIMESTAMP
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_model_type (model_type)
- INDEX idx_algorithm_type (algorithm_type)
- INDEX idx_model_version (model_version)
- INDEX idx_is_active (is_active)
- INDEX idx_is_production (is_production)
- INDEX idx_trained_at (trained_at)

Constraints:
- fk_engagement_prediction_model_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_prediction_model_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_score_range CHECK (accuracy_score BETWEEN 0 AND 1 AND precision_score BETWEEN 0 AND 1 AND recall_score BETWEEN 0 AND 1 AND f1_score BETWEEN 0 AND 1 AND auc_score BETWEEN 0 AND 1)
```

```sql
Table: engagement_prediction_result
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- model_id: UUID (Foreign Key to engagement_prediction_model)
- employee_id: UUID (Foreign Key to employee)
- prediction_date: DATE (Required)
- prediction_period: ENUM('30 Days', '60 Days', '90 Days', '6 Months', '1 Year')
- risk_score: DECIMAL(5,4) (Check: 0.0000 TO 1.0000)
- risk_level: ENUM('Very Low', 'Low', 'Medium', 'High', 'Very High', 'Critical')
- probability_percentage: DECIMAL(5,2) (Default: 0.00)
- confidence_interval: JSON (Confidence interval bounds)
- key_factors: JSON (Top contributing factors)
- recommended_actions: JSON (Suggested interventions)
- prediction_explanation: TEXT
- model_version: VARCHAR(20)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_model_id (model_id)
- INDEX idx_employee_id (employee_id)
- INDEX idx_prediction_date (prediction_date)
- INDEX idx_prediction_period (prediction_period)
- INDEX idx_risk_score (risk_score)
- INDEX idx_risk_level (risk_level)
- INDEX idx_probability_percentage (probability_percentage)

Constraints:
- fk_engagement_prediction_result_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_prediction_result_model FOREIGN KEY (model_id) REFERENCES engagement_prediction_model(id)
- fk_engagement_prediction_result_employee FOREIGN KEY (employee_id) REFERENCES employee(id)
- chk_score_range CHECK (risk_score BETWEEN 0 AND 1)
- chk_probability_range CHECK (probability_percentage BETWEEN 0 AND 100)
```

## 7.5.4 Trend Analysis & Benchmarking Schema

```sql
Table: engagement_trend_analysis
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- analysis_type: ENUM('Overall Engagement', 'Metric Trend', 'Demographic Segment', 'Department Trend', 'Time Series')
- analysis_period: ENUM('Daily', 'Weekly', 'Monthly', 'Quarterly', 'Yearly', 'Custom')
- start_date: DATE (Required)
- end_date: DATE (Required)
- comparison_period: ENUM('Previous Period', 'Same Period Last Year', 'Custom Range')
- trend_direction: ENUM('Increasing', 'Decreasing', 'Stable', 'Volatile', 'Seasonal')
- trend_strength: ENUM('Weak', 'Moderate', 'Strong', 'Very Strong')
- change_percentage: DECIMAL(5,2) (Default: 0.00)
- statistical_significance: BOOLEAN (Default: FALSE)
- p_value: DECIMAL(8,6)
- confidence_level: DECIMAL(3,2) (Default: 0.95)
- trend_data_points: JSON (Individual data points in trend)
- moving_average: JSON (Moving average calculations)
- seasonal_adjustment: JSON (Seasonal adjustment factors)
- benchmark_comparison: JSON (Benchmark comparison data)
- insights: JSON (Key insights and observations)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_analysis_type (analysis_type)
- INDEX idx_analysis_period (analysis_period)
- INDEX idx_start_date (start_date)
- INDEX idx_end_date (end_date)
- INDEX idx_trend_direction (trend_direction)
- INDEX idx_statistical_significance (statistical_significance)

Constraints:
- fk_engagement_trend_analysis_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_trend_analysis_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_date_order CHECK (end_date >= start_date)
- chk_confidence_range CHECK (confidence_level BETWEEN 0 AND 1)
```

```sql
Table: engagement_benchmark
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- benchmark_name: VARCHAR(200) (Required)
- benchmark_type: ENUM('Industry', 'Geographic', 'Company Size', 'Sector', 'Custom')
- benchmark_source: VARCHAR(200) (Required)
- benchmark_period: VARCHAR(50) (Required)
- metric_category: ENUM('Engagement Score', 'Satisfaction', 'Retention', 'Productivity', 'Well-being')
- percentile_25: DECIMAL(5,2)
- percentile_50: DECIMAL(5,2)
- percentile_75: DECIMAL(5,2)
- percentile_90: DECIMAL (5,2)
- mean_value: DECIMAL(5,2)
- standard_deviation: DECIMAL(5,2)
- sample_size: INTEGER (Default: 0)
- data_quality_score: DECIMAL(3,2) (Check: 1.00 TO 5.00)
- last_updated: DATE
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_benchmark_type (benchmark_type)
- INDEX idx_metric_category (metric_category)
- INDEX idx_benchmark_period (benchmark_period)
- INDEX idx_is_active (is_active)
- INDEX idx_last_updated (last_updated)

Constraints:
- fk_engagement_benchmark_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_benchmark_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_percentile_order CHECK (percentile_25 <= percentile_50 AND percentile_50 <= percentile_75 AND percentile_75 <= percentile_90)
- chk_deviation_positive CHECK (standard_deviation >= 0)
- chk_sample_size_positive CHECK (sample_size >= 0)
- chk_data_quality_range CHECK (data_quality_score BETWEEN 1 AND 5)
```

## 7.5.5 Dashboard & Visualization Schema

```sql
Table: engagement_dashboard
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- dashboard_code: VARCHAR(50) (Required, Unique, Indexed)
- dashboard_name: VARCHAR(200) (Required)
- dashboard_type: ENUM('Executive', 'HR Leadership', 'Manager', 'Analyst', 'Employee', 'Custom')
- dashboard_category: ENUM('Overview', 'Trends', 'Predictions', 'Benchmarks', 'Drill Down', 'Real-time')
- layout_configuration: JSON (Dashboard layout and widget configuration)
- default_filters: JSON (Default filter settings)
- refresh_frequency: ENUM('Real-time', 'Every 5 minutes', 'Every 15 minutes', 'Every 30 minutes', 'Hourly', 'Daily')
- data_sources: JSON (Data sources and connections)
- sharing_permissions: JSON (Sharing and access permissions)
- export_formats: JSON (Available export formats)
- is_public: BOOLEAN (Default: FALSE)
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- updated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_engagement_dashboard_company_code (company_id, dashboard_code)
- INDEX idx_company_id (company_id)
- INDEX idx_dashboard_type (dashboard_type)
- INDEX idx_dashboard_category (dashboard_category)
- INDEX idx_is_public (is_public)
- INDEX idx_is_active (is_active)

Constraints:
- fk_engagement_dashboard_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_dashboard_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_engagement_dashboard_updated_by FOREIGN KEY (updated_by_user_id) REFERENCES user(id)
```

```sql
Table: engagement_widget
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- dashboard_id: UUID (Foreign Key to engagement_dashboard)
- widget_code: VARCHAR(50) (Required, Indexed)
- widget_name: VARCHAR(200) (Required)
- widget_type: ENUM('KPI Card', 'Trend Chart', 'Bar Chart', 'Pie Chart', 'Heat Map', 'Gauge', 'Table', 'Text', 'Image')
- data_source: VARCHAR(200) (Required)
- visualization_config: JSON (Chart configuration and styling)
- data_query: JSON (Data query parameters)
- refresh_interval: INTEGER (Default: 300)
- position_x: INTEGER (Default: 0)
- position_y: INTEGER (Default: 0)
- width: INTEGER (Default: 4)
- height: INTEGER (Default: 3)
- is_visible: BOOLEAN (Default: TRUE)
- is_interactive: BOOLEAN (Default: TRUE)
- drill_down_enabled: BOOLEAN (Default: FALSE)
- created_by_user_id: UUID (Foreign Key to user)
- updated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_dashboard_id (dashboard_id)
- INDEX idx_widget_code (widget_code)
- INDEX idx_widget_type (widget_type)
- INDEX idx_is_visible (is_visible)
- INDEX idx_is_interactive (is_interactive)

Constraints:
- fk_engagement_widget_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_widget_dashboard FOREIGN KEY (dashboard_id) REFERENCES engagement_dashboard(id)
- fk_engagement_widget_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_engagement_widget_updated_by FOREIGN KEY (updated_by_user_id) REFERENCES user(id)
- chk_position_positive CHECK (position_x >= 0 AND position_y >= 0)
- chk_dimensions_positive CHECK (width > 0 AND height > 0)
- chk_refresh_positive CHECK (refresh_interval >= 0)
```

## 7.5.6 Reporting & Insights Schema

```sql
Table: engagement_report
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- report_code: VARCHAR(50) (Required, Unique, Indexed)
- report_name: VARCHAR(200) (Required)
- report_type: ENUM('Executive Summary', 'Detailed Analysis', 'Trend Report', 'Benchmark Report', 'Predictive Analysis', 'Custom')
- report_category: ENUM('Monthly', 'Quarterly', 'Annual', 'Ad-hoc', 'Scheduled', 'On-demand')
- report_template: JSON (Report template and structure)
- data_sources: JSON (Data sources and parameters)
- scheduling_config: JSON (Automated scheduling settings)
- distribution_list: JSON (Report distribution recipients)
- export_formats: JSON (Available export formats)
- generation_frequency: ENUM('Once', 'Daily', 'Weekly', 'Monthly', 'Quarterly', 'Annually')
- last_generated_at: TIMESTAMP
- next_scheduled_at: TIMESTAMP
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- updated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- UNIQUE KEY uk_engagement_report_company_code (company_id, report_code)
- INDEX idx_company_id (company_id)
- INDEX idx_report_type (report_type)
- INDEX idx_report_category (report_category)
- INDEX idx_generation_frequency (generation_frequency)
- INDEX idx_is_active (is_active)
- INDEX idx_last_generated_at (last_generated_at)
- INDEX idx_next_scheduled_at (next_scheduled_at)

Constraints:
- fk_engagement_report_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_report_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_engagement_report_updated_by FOREIGN KEY (updated_by_user_id) REFERENCES user(id)
```

```sql
Table: engagement_insight
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- insight_type: ENUM('Trend', 'Anomaly', 'Opportunity', 'Risk', 'Pattern', 'Correlation', 'Recommendation')
- insight_category: ENUM('Engagement Drivers', 'Risk Factors', 'Best Practices', 'Improvement Areas', 'Success Stories')
- insight_title: VARCHAR(300) (Required)
- insight_description: TEXT (Required)
- confidence_level: DECIMAL(3,2) (Check: 0.00 TO 1.00)
- impact_level: ENUM('Low', 'Medium', 'High', 'Critical')
- urgency_level: ENUM('Low', 'Medium', 'High', 'Critical')
- supporting_data: JSON (Data and metrics supporting the insight)
- recommended_actions: JSON (Recommended actions and interventions)
- target_audience: JSON (Target audience for the insight)
- insight_date: DATE (Required)
- expiry_date: DATE
- is_actionable: BOOLEAN (Default: TRUE)
- action_taken: BOOLEAN (Default: FALSE)
- action_outcome: TEXT
- generated_by: ENUM('System', 'User', 'AI Algorithm')
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_insight_type (insight_type)
- INDEX idx_insight_category (insight_category)
- INDEX idx_confidence_level (confidence_level)
- INDEX idx_impact_level (impact_level)
- INDEX idx_urgency_level (urgency_level)
- INDEX idx_insight_date (insight_date)
- INDEX idx_is_actionable (is_actionable)
- INDEX idx_action_taken (action_taken)

Constraints:
- fk_engagement_insight_company FOREIGN KEY (company_id) REFERENCES company(id)
- chk_confidence_range CHECK (confidence_level BETWEEN 0 AND 1)
- chk_date_order CHECK (expiry_date IS NULL OR expiry_date >= insight_date)
```

## 7.5.7 Data Integration & Processing Schema

```sql
Table: engagement_data_source
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- source_name: VARCHAR(200) (Required)
- source_type: ENUM('HRIS', 'Survey System', 'Performance Management', 'Learning Management', 'Payroll', 'Communication Platform', 'Activity Tracking', 'External API')
- connection_type: ENUM('Database', 'API', 'File Upload', 'Webhook', 'Stream')
- connection_config: JSON (Encrypted connection details)
- sync_frequency: ENUM('Real-time', 'Every 5 minutes', 'Every 15 minutes', 'Every 30 minutes', 'Hourly', 'Daily')
- sync_direction: ENUM('Inbound', 'Outbound', 'Bidirectional')
- data_format: ENUM('JSON', 'XML', 'CSV', 'Excel', 'Database Table')
- field_mapping: JSON (Field mapping configuration)
- transformation_rules: JSON (Data transformation logic)
- validation_rules: JSON (Data validation requirements)
- sync_status: ENUM('Active', 'Inactive', 'Error', 'Testing', 'Maintenance')
- last_sync_at: TIMESTAMP
- next_sync_at: TIMESTAMP
- error_count: INTEGER (Default: 0)
- data_quality_score: DECIMAL(3,2) (Default: 0.00)
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_source_type (source_type)
- INDEX idx_connection_type (connection_type)
- INDEX idx_sync_frequency (sync_frequency)
- INDEX idx_sync_status (sync_status)
- INDEX idx_last_sync_at (last_sync_at)
- INDEX idx_is_active (is_active)

Constraints:
- fk_engagement_data_source_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_data_source_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_error_count_positive CHECK (error_count >= 0)
- chk_data_quality_range CHECK (data_quality_score BETWEEN 0 AND 5)
```

```sql
Table: engagement_data_pipeline
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- pipeline_name: VARCHAR(200) (Required)
- pipeline_type: ENUM('ETL', 'ELT', 'Streaming', 'Batch Processing', 'Real-time')
- source_systems: JSON (Array of source system IDs)
- target_system: VARCHAR(200) (Required)
- processing_stages: JSON (Processing stages and configuration)
- data_quality_rules: JSON (Data quality checks and validations)
- error_handling: JSON (Error handling and retry logic)
- monitoring_config: JSON (Monitoring and alerting settings)
- execution_schedule: JSON (Cron-like schedule configuration)
- last_execution_at: TIMESTAMP
- next_execution_at: TIMESTAMP
- execution_status: ENUM('Success', 'Failed', 'Running', 'Cancelled', 'Scheduled')
- records_processed: INTEGER (Default: 0)
- records_failed: INTEGER (Default: 0)
- processing_time_ms: INTEGER (Default: 0)
- is_active: BOOLEAN (Default: TRUE)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_pipeline_type (pipeline_type)
- idx_execution_status (execution_status)
- INDEX idx_last_execution_at (last_execution_at)
- INDEX idx_next_execution_at (next_execution_at)
- INDEX idx_is_active (is_active)

Constraints:
- fk_engagement_data_pipeline_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_data_pipeline_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_records_positive CHECK (records_processed >= 0 AND records_failed >= 0)
- chk_processing_time_positive CHECK (processing_time_ms >= 0)
```

## 7.5.8 Security & Access Control Schema

```sql
Table: engagement_access_control
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- user_id: UUID (Foreign Key to user)
- role_id: UUID (Foreign Key to role)
- access_scope: ENUM('All Data', 'Department Data', 'Team Data', 'Own Data', 'Specific Dashboards', 'Specific Reports')
- dashboard_ids: JSON (Array of specific dashboard IDs)
- report_ids: JSON (Array of specific report IDs)
- permission_level: ENUM('Read Only', 'Create', 'Edit', 'Delete', 'Admin', 'Full Access')
- data_access_level: ENUM('Aggregated Only', 'Department Level', 'Team Level', 'Individual Level', 'Raw Data')
- can_export_data: BOOLEAN (Default: FALSE)
- can_share_reports: BOOLEAN (Default: FALSE)
- can_configure_dashboards: BOOLEAN (Default: FALSE)
- ip_restriction: JSON (IP address restrictions)
- time_restriction: JSON (Time-based access restrictions)
- granted_by_user_id: UUID (Foreign Key to user)
- granted_at: TIMESTAMP (Auto)
- expires_at: DATE
- is_active: BOOLEAN (Default: TRUE)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_user_id (user_id)
- INDEX idx_role_id (role_id)
- INDEX idx_access_scope (access_scope)
- INDEX idx_permission_level (permission_level)
- INDEX idx_data_access_level (data_access_level)
- INDEX idx_granted_by_user_id (granted_by_user_id)
- INDEX idx_expires_at (expires_at)
- INDEX idx_is_active (is_active)

Constraints:
- fk_engagement_access_control_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_access_control_user FOREIGN KEY (user_id) REFERENCES user(id)
- fk_engagement_access_control_role FOREIGN KEY (role_id) REFERENCES role(id)
- fk_engagement_access_control_granted_by FOREIGN KEY (granted_by_user_id) REFERENCES user(id)
- chk_expires_future CHECK (expires_at IS NULL OR expires_at >= granted_at)
```

```sql
Table: engagement_data_masking
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- masking_rule_name: VARCHAR(200) (Required)
- data_entity: ENUM('Employee Name', 'Email', 'Phone', 'Address', 'Department', 'Position', 'Salary', 'Performance Score')
- masking_method: ENUM('Full Mask', 'Partial Mask', 'Tokenization', 'Pseudonymization', 'Hash')
- masking_pattern: VARCHAR(100) (Required)
- replacement_value: VARCHAR(200)
- applies_to_roles: JSON (Roles this masking applies to)
- applies_to_data_types: JSON (Data types this masking applies to)
- is_active: BOOLEAN (Default: TRUE)
- effective_from: DATE (Required)
- effective_to: DATE
- created_by_user_id: UUID (Foreign Key to user)
- updated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_data_entity (data_entity)
- INDEX idx_masking_method (masking_method)
- INDEX idx_is_active (is_active)
- INDEX idx_effective_from (effective_from)

Constraints:
- fk_engagement_data_masking_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_data_masking_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_engagement_data_masking_updated_by FOREIGN KEY (updated_by_user_id) REFERENCES user(id)
- chk_effective_order CHECK (effective_to IS NULL OR effective_to >= effective_from)
```

## 7.5.9 Audit & Compliance Schema

```sql
Table: engagement_audit_log
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- action: ENUM('Create', 'Update', 'Delete', 'View', 'Export', 'Share', 'Access', 'Login', 'Logout')
- entity_type: ENUM('Dashboard', 'Report', 'Widget', 'Metric', 'Model', 'Data Source', 'Pipeline', 'Access Control')
- entity_id: UUID
- old_values: JSON (Previous values before change)
- new_values: JSON (New values after change)
- field_changes: JSON (Specific field changes)
- action_reason: TEXT
- business_justification: TEXT
- impact_assessment: TEXT
- affected_records: INTEGER (Default: 0)
- data_sensitivity: ENUM('Public', 'Internal', 'Confidential', 'Sensitive', 'Restricted')
- compliance_impact: ENUM('None', 'Low', 'Medium', 'High', 'Critical')
- performed_by_user_id: UUID (Foreign Key to user)
- ip_address: VARCHAR(45)
- user_agent: TEXT
- session_id: VARCHAR(100)
- timestamp: TIMESTAMP (Auto)
- additional_context: JSON (Extra context information)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_action (action)
- INDEX idx_entity_type (entity_type)
- INDEX idx_entity_id (entity_id)
- idx_performed_by_user_id (performed_by_user_id)
- idx_data_sensitivity (data_sensitivity)
- idx_compliance_impact (compliance_impact)
- idx_timestamp (timestamp)

Constraints:
- fk_engagement_audit_log_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_audit_log_performed_by FOREIGN KEY (performed_by_user_id) REFERENCES user(id)
- chk_affected_records_positive CHECK (affected_records >= 0)
```

```sql
Table: engagement_compliance_report
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- report_type: ENUM('Data Privacy', 'Access Control', 'Data Security', 'Model Governance', 'Analytics Ethics', 'Regulatory Compliance')
- report_period_start: DATE (Required)
- report_period_end: DATE (Required)
- compliance_framework: ENUM('GDPR', 'CCPA', 'HIPAA', 'SOX', 'ISO 27001', 'Internal Policy')
- compliance_status: ENUM('Compliant', 'Non-Compliant', 'Partially Compliant', 'Under Review', 'Remediation Required')
- compliance_score: DECIMAL(5,2) (Default: 0.00)
- findings_count: INTEGER (Default: 0)
- critical_findings: INTEGER (Default: 0)
- high_findings: INTEGER (Default: 0)
- medium_findings: INTEGER (Default: 0)
- low_findings: INTEGER (Default: 0)
- remediation_actions: JSON (Required remediation actions)
- remediation_due_date: DATE
- evidence_documents: JSON (Links to evidence documents)
- reviewed_by_user_id: UUID (Foreign Key to user)
- approved_by_user_id: UUID (Foreign Key to user)
- generated_at: TIMESTAMP (Auto)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_report_type (report_type)
- idx_compliance_framework (compliance_framework)
- idx_compliance_status (compliance_status)
- idx_report_period_start (report_period_start)
- INDEX idx_report_period_end (report_period_end)
- INDEX idx_compliance_score (compliance_score)

Constraints:
- fk_engagement_compliance_report_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_compliance_report_reviewed_by FOREIGN KEY (reviewed_by_user_id) REFERENCES user(id)
- fk_engagement_compliance_report_approved_by FOREIGN KEY (approved_by_user_id) REFERENCES user(id)
- chk_period_order CHECK (report_period_end >= report_period_start)
- chk_score_range CHECK (compliance_score BETWEEN 0 AND 100)
- chk_findings_positive CHECK (findings_count >= 0 AND critical_findings >= 0 AND high_findings >= 0 AND medium_findings >= 0 AND low_findings >= 0)
```

## 7.5.10 Performance & Optimization Schema

```sql
Table: engagement_performance_metric
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- metric_name: VARCHAR(100) (Required)
- metric_category: ENUM('System Performance', 'Data Processing', 'Query Performance', 'User Experience', 'Model Performance', 'API Response')
- measurement_unit: VARCHAR(50)
- target_value: DECIMAL(15,2)
- warning_threshold: DECIMAL(15,2)
- critical_threshold: DECIMAL(15,2)
- current_value: DECIMAL(15,2)
- performance_trend: ENUM('Improving', 'Stable', 'Declining', 'Volatile')
- trend_percentage: DECIMAL(5,2) (Default: 0.00)
- sla_met: BOOLEAN (Default: TRUE)
- collection_frequency: ENUM('Real-time', 'Every minute', 'Every 5 minutes', 'Every 15 minutes', 'Hourly')
- last_measured_at: TIMESTAMP (Auto)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_metric_category (metric_category)
- INDEX idx_target_value (target_value)
- idx_warning_threshold (warning_threshold)
- idx_critical_threshold (critical_threshold)
- idx_current_value (current_value)
- idx_performance_trend (performance_trend)
- idx_sla_met (sla_met)
- idx_last_measured_at (last_measured_at)

Constraints:
- fk_engagement_performance_metric_company FOREIGN KEY (company_id) REFERENCES company_id)
- chk_threshold_order CHECK (warning_threshold <= critical_threshold AND target_value <= warning_threshold)
```

```sql
Table: engagement_optimization
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- optimization_type: ENUM('Query Performance', 'Data Processing', 'Model Training', 'Dashboard Loading', 'Cache Management', 'Database Indexing')
- optimization_description: TEXT (Required)
- before_metrics: JSON (Performance metrics before optimization)
- after_metrics: JSON (Performance metrics after optimization)
- improvement_percentage: DECIMAL(5,2) (Default: 0.00)
- optimization_date: DATE (Required)
- implemented_by_user_id: UUID (Foreign Key to user)
- is_successful: BOOLEAN (Default: FALSE)
- rollback_available: BOOLEAN (Default: FALSE)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_optimization_type (optimization_type)
- idx_optimization_date (optimization_date)
- idx_is_successful (is_successful)
- INDEX idx_improvement_percentage (improvement_percentage)

Constraints:
- fk_engagement_optimization_company FOREIGN KEY (company_id) REFERENCES company_id)
- fk_engagement_optimization_implemented_by FOREIGN KEY (implemented_by_user_id) REFERENCES user(id)
- chk_improvement_range CHECK (improvement_percentage BETWEEN -100 AND 100)
```

## 7.5.11 Mobile & API Access Schema

```sql
Table: engagement_mobile_app
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- app_version: VARCHAR(20) (Required)
- platform: ENUM('iOS', 'Android', 'Web', 'Hybrid')
- build_number: VARCHAR(20) (Required)
- release_date: DATE (Required)
- is_current: BOOLEAN (Default: FALSE)
- is_mandatory: BOOLEAN (Default: FALSE)
- min_supported_version: VARCHAR(20)
- features_enabled: JSON (Feature flags and capabilities)
- offline_capabilities: JSON (Offline functionality support)
- security_config: JSON (Mobile security settings)
- push_notification_enabled: BOOLEAN (Default: TRUE)
- biometric_auth_enabled: BOOLEAN (Default: FALSE)
- data_sync_frequency: ENUM('Real-time', 'Every 5 minutes', 'Every 15 minutes', 'Every 30 minutes', 'Hourly')
- dashboard_config: JSON (Mobile dashboard configuration)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- idx_app_version (app_version)
- INDEX idx_platform (platform)
- idx_is_current (is_current)
- idx_is_mandatory (is_mandatory)
- INDEX idx_release_date (release_date)

Constraints:
- fk_engagement_mobile_app_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_mobile_app_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
```

```sql
Table: engagement_api_access
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- api_key: VARCHAR(200) (Required, Unique, Indexed)
- api_name: VARCHAR(200) (Required)
- api_description: TEXT
- api_version: VARCHAR(20) (Default: 'v1')
- endpoint_url: VARCHAR(500) (Required)
- authentication_type: ENUM('API Key', 'OAuth 2.0', 'JWT', 'Basic Auth', 'Certificate')
- rate_limit_per_hour: INTEGER (Default: 1000)
- rate_limit_per_day: INTEGER (Default: 10000)
- allowed_methods: JSON (HTTP methods allowed)
- allowed_endpoints: JSON (Specific endpoints allowed)
- data_access_level: ENUM('Aggregated Only', 'Department Level', 'Team Level', 'Individual Level', 'Raw Data')
- ip_whitelist: JSON (Allowed IP addresses)
- webhook_url: VARCHAR(500)
- webhook_events: JSON (Events that trigger webhooks)
- is_active: BOOLEAN (Default: TRUE)
- is_internal: BOOLEAN (Default: FALSE)
- created_by_user_id: UUID (Foreign Key to user)
- last_used_at: TIMESTAMP
- usage_count: INTEGER (Default: 0)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_api_key (api_key)
- INDEX idx_api_version (api_version)
- idx_data_access_level (data_access_level)
- INDEX idx_is_active (is_active)
- INDEX idx_is_internal (is_internal)
- INDEX idx_last_used_at (last_used_at)
- INDEX idx_usage_count (usage_count)

Constraints:
- fk_engagement_api_access_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_api_access_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_rate_limits_positive CHECK (rate_limit_per_hour > 0 AND rate_limit_per_day > 0)
- chk_usage_positive CHECK (usage_count >= 0)
```

## 7.5.12 Workflow & Automation Schema

```sql
Table: engagement_workflow_definition
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- workflow_name: VARCHAR(200) (Required)
- workflow_type: ENUM('Report Generation', 'Data Refresh', 'Model Training', 'Alert Processing', 'Dashboard Update', 'Data Validation')
- workflow_category: ENUM('Standard', 'Emergency', 'High Priority', 'Executive', 'Automated', 'Scheduled')
- trigger_event: ENUM('Schedule Trigger', 'Data Change', 'Threshold Breach', 'Manual Trigger', 'API Call', 'System Event')
- workflow_steps: JSON (Ordered workflow steps and configurations)
- approval_levels: JSON (Multi-level approval requirements)
- escalation_rules: JSON (Escalation conditions and paths)
- timeout_settings: JSON (Step timeout and reminder settings)
- notification_rules: JSON (Notification triggers and recipients)
- retry_configuration: JSON (Retry logic and limits)
- is_active: BOOLEAN (Default: TRUE)
- version: INTEGER (Default: 1)
- created_by_user_id: UUID (Foreign Key to user)
- updated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_workflow_type (workflow_type)
- INDEX idx_workflow_category (workflow_category)
- idx_trigger_event (trigger_event)
- idx_is_active (is_active)
- INDEX idx_version (version)

Constraints:
- fk_engagement_workflow_definition_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_workflow_definition_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_engagement_workflow_definition_updated_by FOREIGN KEY (updated_by_user_id) REFERENCES user(id)
- chk_version_positive CHECK (version > 0)
```

```sql
Table: engagement_workflow_instance
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- workflow_definition_id: UUID (Foreign Key to engagement_workflow_definition)
- instance_name: VARCHAR(200) (Required)
- current_step: INTEGER (Default: 1)
- workflow_status: ENUM('Initiated', 'In Progress', 'Pending Approval', 'Approved', 'Rejected', 'Completed', 'Failed', 'Cancelled', 'Escalated')
- priority_level: ENUM('Low', 'Normal', 'High', 'Critical', 'Emergency')
- initiated_by_user_id: UUID (Foreign Key to user)
- current_assignee_id: UUID (Foreign Key to user)
- started_at: TIMESTAMP (Auto)
- due_date: TIMESTAMP
- completed_at: TIMESTAMP
- workflow_data: JSON (Workflow-specific data and context)
- step_history: JSON (History of completed steps)
- error_details: JSON (Error information if failed)
- retry_count: INTEGER (Default: 0)
- comments: TEXT
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- INDEX idx_workflow_definition_id (workflow_definition_id)
- INDEX idx_workflow_status (workflow_status)
- INDEX idx_priority_level (priority_level)
- idx_initiated_by_user_id (initiated_by_user_id)
- INDEX idx_current_assignee_id (current_assignee_id)
- idx_started_at (started_at)
- INDEX idx_due_date (due_date)
- INDEX idx_completed_at (completed_at)

Constraints:
- fk_engagement_workflow_instance_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_workflow_instance_definition FOREIGN KEY (workflow_definition_id) REFERENCES engagement_workflow_definition(id)
- fk_engagement_workflow_instance_initiated_by FOREIGN KEY (initiated_by_user_id) REFERENCES user(id)
- fk_engagement_workflow_instance_current_assignee FOREIGN KEY (current_assignee_id) REFERENCES user(id)
- chk_step_positive CHECK (current_step > 0)
- chk_retry_count_positive CHECK (retry_count >= 0)
```

## 7.5.13 Data Archival & Retention Schema

```sql
Table: engagement_archival_policy
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- policy_name: VARCHAR(200) (Required)
- entity_type: ENUM('Dashboard', 'Report', 'Widget', 'Metric', 'Model', 'Audit Log', 'Data Pipeline', 'Access Log')
- retention_period_years: INTEGER (Required)
- archival_trigger: ENUM('Age Based', 'Event Based', 'Manual', 'Scheduled', 'Usage Based', 'Regulatory Requirement')
- archival_condition: JSON (Conditions for archival)
- storage_location: ENUM('Cold Storage', 'Archive Database', 'File System', 'Cloud Archive', 'Data Lake')
- compression_enabled: BOOLEAN (Default: TRUE)
- encryption_enabled: BOOLEAN (Default: TRUE)
- access_restriction: ENUM('No Access', 'Read Only', 'Admin Only', 'Compliance Only', 'Legal Only', 'Audit Only')
- retention_after_archive_years: INTEGER (Default: 7)
- auto_delete_after_retention: BOOLEAN (Default: FALSE)
- gdpr_anonymization: BOOLEAN (Default: TRUE)
- anonymization_method: ENUM('Full Hash', 'Partial Mask', 'Tokenization', 'Pseudonymization')
- data_minimization: BOOLEAN (Default: TRUE)
- is_active: BOOLEAN (Default: TRUE)
- last_run_date: DATE
- next_run_date: DATE
- created_by_user_id: UUID (Foreign Key to user)
- updated_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)
- updated_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- idx_entity_type (entity_type)
- idx_archival_trigger (archival_trigger)
- idx_storage_location (storage_location)
- idx_access_restriction (access_restriction)
- idx_is_active (is_active)
- idx_last_run_date (last_run_date)
- INDEX idx_next_run_date (next_run_date)

Constraints:
- fk_engagement_archival_policy_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_archival_policy_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- fk_engagement_archival_policy_updated_by FOREIGN KEY (updated_by_user_id) REFERENCES user(id)
- chk_retention_positive CHECK (retention_period_years > 0 AND retention_after_archive_years >= 0)
```

```sql
Table: engagement_archived_data
Fields:
- id: UUID (Primary Key)
- company_id: UUID (Foreign Key to company)
- archival_policy_id: UUID (Foreign Key to engagement_archival_policy)
- original_table_name: VARCHAR(100) (Required)
- original_record_id: UUID (Required)
- entity_type: ENUM('Dashboard', 'Report', 'Widget', 'Metric', 'Model', 'Audit Log', 'Data Pipeline', 'Access Log')
- archived_data: JSON (Complete archived record data)
- archive_date: DATE (Required)
- archive_reason: VARCHAR(200)
- storage_path: VARCHAR(500)
- file_size_bytes: BIGINT
- checksum_hash: VARCHAR(256)
- compression_ratio: DECIMAL(5,2)
- anonymization_applied: BOOLEAN (Default: FALSE)
- anonymization_fields: JSON (Fields that were anonymized)
- access_count: INTEGER (Default: 0)
- last_accessed_at: TIMESTAMP
- access_log: JSON (Log of all access attempts)
- scheduled_deletion_date: DATE
- is_deleted: BOOLEAN (Default: FALSE)
- deleted_at: TIMESTAMP
- deletion_reason: VARCHAR(200)
- created_by_user_id: UUID (Foreign Key to user)
- created_at: TIMESTAMP (Auto)

Indexes:
- PRIMARY KEY (id)
- INDEX idx_company_id (company_id)
- idx_archival_policy_id (archival_policy_id)
- idx_original_table_name (original_table_name)
- idx_original_record_id (original_record_id)
- idx_entity_type (entity_type)
- idx_archive_date (archive_date)
- idx_scheduled_deletion_date (scheduled_deletion_date)
- idx_is_deleted (is_deleted)
- idx_anonymization_applied (anonymization_applied)

Constraints:
- fk_engagement_archived_data_company FOREIGN KEY (company_id) REFERENCES company(id)
- fk_engagement_archived_data_policy FOREIGN KEY (archival_policy_id) REFERENCES engagement_archival_policy(id)
- fk_engagement_archived_data_created_by FOREIGN KEY (created_by_user_id) REFERENCES user(id)
- chk_file_size_positive CHECK (file_size_bytes >= 0)
- chk_access_positive CHECK (access_count >= 0)
- chk_compression_range CHECK (compression_ratio BETWEEN 0 AND 1)
```

--- END OF SECTION 7.5.13 ---
